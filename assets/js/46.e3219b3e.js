(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{366:function(e,r,t){"use strict";t.r(r);var a=t(4),o=Object(a.a)({},(function(){var e=this,r=e._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("p",[e._v("参考"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/Performance/How_browsers_work",target:"_blank",rel:"noopener noreferrer"}},[e._v("渲染页面：浏览器的工作原理 - Web 性能 | MDN (mozilla.org)"),r("OutboundLink")],1)]),e._v(" "),r("blockquote",[r("p",[e._v("等待资源加载时间和大部分情况下的浏览器单线程执行是影响 Web 性能的两大主要原因")])]),e._v(" "),r("h2",{attrs:{id:"请求"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#请求"}},[e._v("#")]),e._v(" 请求")]),e._v(" "),r("h3",{attrs:{id:"dns查询"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#dns查询"}},[e._v("#")]),e._v(" DNS查询")]),e._v(" "),r("p",[e._v("浏览器向"),r("strong",[e._v("名称服务器")]),e._v("发起 DNS 查询请求，最终得到一个 IP 地址。")]),e._v(" "),r("p",[e._v("第一次请求之后，这个 IP 地址可能会被缓存一段时间，加速后续的请求。")]),e._v(" "),r("blockquote",[r("p",[e._v("优化")]),e._v(" "),r("ol",[r("li",[r("p",[e._v("对"),r("strong",[e._v("跨源")]),e._v("资源使用"),r("code",[e._v("dns-prefetch")]),e._v("，参考"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/Performance/dns-prefetch",target:"_blank",rel:"noopener noreferrer"}},[e._v("使用 dns-prefetch - Web 性能 | MDN (mozilla.org)"),r("OutboundLink")],1)]),e._v(" "),r("div",{staticClass:"language-html extra-class"},[r("pre",{pre:!0,attrs:{class:"language-html"}},[r("code",[r("span",{pre:!0,attrs:{class:"token tag"}},[r("span",{pre:!0,attrs:{class:"token tag"}},[r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("link")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rel")]),r("span",{pre:!0,attrs:{class:"token attr-value"}},[r("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("dns-prefetch"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),r("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("href")]),r("span",{pre:!0,attrs:{class:"token attr-value"}},[r("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("https://fonts.googleapis.com/"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n")])])])])])]),e._v(" "),r("h3",{attrs:{id:"http请求"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#http请求"}},[e._v("#")]),e._v(" HTTP请求")]),e._v(" "),r("blockquote",[r("p",[e._v("优化")]),e._v(" "),r("ol",[r("li",[e._v("减少 HTTP 请求的数量，合并请求")]),e._v(" "),r("li",[e._v("使用 HTTP/2 协议提高传输的效率")])])]),e._v(" "),r("h4",{attrs:{id:"tcp握手"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#tcp握手"}},[e._v("#")]),e._v(" TCP握手")]),e._v(" "),r("p",[r("RouterLink",{attrs:{to:"/pages/c3200d/#tcp三次握手"}},[e._v("tcp三次握手")])],1),e._v(" "),r("h4",{attrs:{id:"tls协商"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#tls协商"}},[e._v("#")]),e._v(" TLS协商")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://www.cnblogs.com/huansky/p/13977181.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("深入浅出 HTTPS (详解版) - huansky - 博客园 (cnblogs.com)"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"https://www.cnblogs.com/xiaolincoding/p/14318338.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("图解 ECDHE 密钥交换算法 - 小林coding - 博客园 (cnblogs.com)"),r("OutboundLink")],1)]),e._v(" "),r("h3",{attrs:{id:"http响应"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#http响应"}},[e._v("#")]),e._v(" HTTP响应")]),e._v(" "),r("blockquote",[r("p",[e._v("优化")]),e._v(" "),r("ol",[r("li",[e._v("gzip资源压缩，包括js、css、图片等，"),r("a",{attrs:{href:"https://webpack.docschina.org/plugins/compression-webpack-plugin/",target:"_blank",rel:"noopener noreferrer"}},[e._v("CompressionWebpackPlugin"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("缓存，包括http缓存、server worker、CDN")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/Performance/Lazy_loading",target:"_blank",rel:"noopener noreferrer"}},[e._v("懒加载"),r("OutboundLink")],1)])])]),e._v(" "),r("h2",{attrs:{id:"解析"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#解析"}},[e._v("#")]),e._v(" 解析")]),e._v(" "),r("h3",{attrs:{id:"构建dom树"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#构建dom树"}},[e._v("#")]),e._v(" 构建DOM树")]),e._v(" "),r("p",[e._v("请求页面的 HTML的前 14KB 中包含浏览器开始渲染页面所需的所有内容，或者至少包含页面模板（第一次渲染所需的 CSS 和 HTML）对于 web 性能优化来说是重要的")]),e._v(" "),r("blockquote",[r("p",[e._v("优化")]),e._v(" "),r("ol",[r("li",[e._v("尽量减少页面的DOM数量")]),e._v(" "),r("li",[e._v("提供不同分辨率的图片资源，图片懒加载")]),e._v(" "),r("li",[e._v("除非非常必要，否则不要使用嵌入式 "),r("code",[e._v("<iframe>")])]),e._v(" "),r("li",[e._v("使用 "),r("code",[e._v('rel="preload"')]),e._v(" 预加载内容")])])]),e._v(" "),r("h3",{attrs:{id:"构建cssom树"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#构建cssom树"}},[e._v("#")]),e._v(" 构建CSSOM树")]),e._v(" "),r("p",[e._v("CSS 被视为"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/Performance/Critical_rendering_path",target:"_blank",rel:"noopener noreferrer"}},[e._v("渲染阻塞"),r("OutboundLink")],1),e._v("资源，在 "),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/CSS_Object_Model",target:"_blank",rel:"noopener noreferrer"}},[e._v("CSSOM"),r("OutboundLink")],1),e._v(" 构造完成之前，浏览器不会渲染任何已处理的内容")]),e._v(" "),r("blockquote",[r("p",[e._v("优化")]),e._v(" "),r("ol",[r("li",[e._v("删除不必要的样式，"),r("a",{attrs:{href:"https://purgecss.com/plugins/webpack.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PurgeCSS"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("压缩CSS，"),r("a",{attrs:{href:"https://webpack.docschina.org/plugins/mini-css-extract-plugin/",target:"_blank",rel:"noopener noreferrer"}},[e._v("MiniCssExtractPlugin"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("简化选择器")]),e._v(" "),r("li",[e._v("使用 CSS 精灵图减少图像相关的 HTTP 请求")]),e._v(" "),r("li",[e._v("将 CSS 拆分为独立模块，使用媒体查询加载")]),e._v(" "),r("li",[e._v("预加载重要资源")]),e._v(" "),r("li",[r("RouterLink",{attrs:{to:"/pages/597089/#font-face"}},[e._v("字体优化")])],1),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Learn/Performance/Multimedia",target:"_blank",rel:"noopener noreferrer"}},[e._v("图片优化"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Learn/Performance/video",target:"_blank",rel:"noopener noreferrer"}},[e._v("视频优化"),r("OutboundLink")],1)])])]),e._v(" "),r("h2",{attrs:{id:"渲染"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#渲染"}},[e._v("#")]),e._v(" 渲染")]),e._v(" "),r("h3",{attrs:{id:"样式"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#样式"}},[e._v("#")]),e._v(" 样式")]),e._v(" "),r("p",[e._v("将 DOM 和 CSSOM 组合成渲染树")]),e._v(" "),r("h3",{attrs:{id:"布局"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#布局"}},[e._v("#")]),e._v(" 布局")]),e._v(" "),r("p",[e._v("第一次确定节点的大小和位置称为布局。随后对节点大小和位置的重新计算称为回流")]),e._v(" "),r("h3",{attrs:{id:"绘制"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#绘制"}},[e._v("#")]),e._v(" 绘制")]),e._v(" "),r("p",[e._v("为了确保平滑滚动和动画，占据主线程的所有内容，包括计算样式，以及回流和绘制，必须让浏览器在 16.67 毫秒内完成")]),e._v(" "),r("p",[e._v("绘制可以将布局树中的元素分解为多个层。将内容提升到 GPU 上的层（而不是 CPU 上的主线程）可以提高绘制和重新绘制性能，包括 "),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/video",target:"_blank",rel:"noopener noreferrer"}},[e._v("video"),r("OutboundLink")],1),e._v(" 和 "),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/canvas",target:"_blank",rel:"noopener noreferrer"}},[e._v("canvas"),r("OutboundLink")],1),e._v("，任何 CSS 属性为 "),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/opacity",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("opacity")]),r("OutboundLink")],1),e._v(" 、3D "),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("transform")]),r("OutboundLink")],1),e._v("、"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/filter",target:"_blank",rel:"noopener noreferrer"}},[e._v("filter"),r("OutboundLink")],1),e._v("、"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/CSS/will-change",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("will-change")]),r("OutboundLink")],1),e._v(" 的元素，还有一些其他元素")]),e._v(" "),r("blockquote",[r("p",[e._v("优化")]),e._v(" "),r("ol",[r("li",[e._v("使用transform、opacity、filter实现动画")]),e._v(" "),r("li",[e._v("合理使用will-change或tanslateZ提升元素到合成层")])])]),e._v(" "),r("h3",{attrs:{id:"合成"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#合成"}},[e._v("#")]),e._v(" 合成")]),e._v(" "),r("p",[e._v("分层确实可以提高性能，但是它以内存管理为代价，因此不应作为 web 性能优化策略的一部分过度使用")]),e._v(" "),r("h2",{attrs:{id:"交互"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#交互"}},[e._v("#")]),e._v(" 交互")]),e._v(" "),r("h3",{attrs:{id:"javascript"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#javascript"}},[e._v("#")]),e._v(" javascript")]),e._v(" "),r("p",[e._v("JavaScript 会被解析、编译和解释，脚本被解析为抽象语法树")]),e._v(" "),r("p",[e._v("有些浏览器引擎会将"),r("a",{attrs:{href:"https://zh.wikipedia.org/wiki/%E6%8A%BD%E8%B1%A1%E8%AF%AD%E6%B3%95%E6%A0%91",target:"_blank",rel:"noopener noreferrer"}},[e._v("抽象语法树"),r("OutboundLink")],1),e._v("输入编译器，输出字节码")]),e._v(" "),r("blockquote",[r("p",[e._v("优化")]),e._v(" "),r("ol",[r("li",[e._v("脚本标签上使用 "),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes#defer",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("defer")]),r("OutboundLink")],1),e._v(" 或 "),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes#async",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("async")]),r("OutboundLink")],1),e._v(" 属性，脚本尽量放在文档底部")]),e._v(" "),r("li",[e._v("对大的js文件进行分包处理，"),r("RouterLink",{attrs:{to:"/pages/36289d/#分包优化splitchunksplugin"}},[e._v("分包优化splitchunksplugin")])],1),e._v(" "),r("li",[e._v("对暂时不需要的js异步加载")]),e._v(" "),r("li",[e._v("体积巨大，持续时间长的js代码块使用 "),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Workers_API",target:"_blank",rel:"noopener noreferrer"}},[e._v("Web workers"),r("OutboundLink")],1)])])]),e._v(" "),r("h2",{attrs:{id:""}},[r("a",{staticClass:"header-anchor",attrs:{href:"#"}},[e._v("#")])])])}),[],!1,null,null,null);r.default=o.exports}}]);