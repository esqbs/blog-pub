(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{365:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"基础脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础脚本"}},[s._v("#")]),s._v(" 基础脚本")]),s._v(" "),t("h3",{attrs:{id:"创建脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建脚本"}},[s._v("#")]),s._v(" 创建脚本")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" my_shell.sh\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" u+x my_shell.sh\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" my_shell.sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#this is a test shell")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("who")]),s._v("\n$ ./my_shell.sh\n")])])]),t("h3",{attrs:{id:"显示消息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#显示消息"}},[s._v("#")]),s._v(" 显示消息")]),s._v(" "),t("p",[t("code",[s._v("echo")]),s._v("命令可用单引号或双引号来划定字符串")]),s._v(" "),t("p",[t("code",[s._v("-n")]),s._v(" 字符串和命令输出显示在同一行")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#this is a test shell")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The time and date are:"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"Let's see who's logged into the system:\"")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("who")]),s._v("\n")])])]),t("h3",{attrs:{id:"使用变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用变量"}},[s._v("#")]),s._v(" 使用变量")]),s._v(" "),t("h4",{attrs:{id:"使用环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用环境变量"}},[s._v("#")]),s._v(" 使用环境变量")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"User info for userid: '),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$USER")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$UID")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOME")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The cost of the item is \\'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$15")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $需要转义")]),s._v("\n")])])]),t("h4",{attrs:{id:"使用自定义变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用自定义变量"}},[s._v("#")]),s._v(" 使用自定义变量")]),s._v(" "),t("ul",[t("li",[s._v("字母、数字或下划线组成的字符串")]),s._v(" "),t("li",[s._v("长度不能超过20个字符")]),s._v(" "),t("li",[s._v("区分大小写")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("days")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root checked in '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$days")]),s._v(' days ago"')]),s._v("\n")])])]),t("h3",{attrs:{id:"命令替换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令替换"}},[s._v("#")]),s._v(" 命令替换")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("today")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%y%m%d"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /usr/bin "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-al")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" log."),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$today")]),s._v("\n")])])]),t("blockquote",[t("p",[s._v("命令替换会创建出子shell来运行指定命令，这是由运行脚本的shell所生成的一个独立的shell。因此，在子shell中运行的命令无法使用脚本中的变量")])]),s._v(" "),t("h3",{attrs:{id:"重定向输入输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重定向输入输出"}},[s._v("#")]),s._v(" 重定向输入输出")]),s._v(" "),t("h4",{attrs:{id:"输出重定向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#输出重定向"}},[s._v("#")]),s._v(" 输出重定向")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出文件已存在，则重定向运算符会用新数据覆盖已有的文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" log\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#用双大于号（>>）来追加数据")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" log2\n")])])]),t("h4",{attrs:{id:"输入重定向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#输入重定向"}},[s._v("#")]),s._v(" 输入重定向")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wc命令可以统计数据中的文本, 输出行数、单词数、字节数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" log\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 内联输入重定向（inline input redirection）。这种方法无须使用文件进行重定向，只需在命令行中指定用于输入重定向的数据即可")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF\n11111\n22222\nEOF")]),s._v("\n")])])]),t("h3",{attrs:{id:"管道"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#管道"}},[s._v("#")]),s._v(" 管道")]),s._v(" "),t("blockquote",[t("p",[s._v("Linux系统会同时运行这两个命令，在系统内部将二者连接起来。当第一个命令产生输出时，它会被立即传给第二个命令。数据传输不会用到任何中间文件或缓冲区")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v("\n")])])]),t("h3",{attrs:{id:"数学运算"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数学运算"}},[s._v("#")]),s._v(" 数学运算")]),s._v(" "),t("blockquote",[t("p",[s._v("bash shell的数学运算符只支持整数运算")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var1")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" The result is "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var3")]),s._v("\n")])])]),t("table",[t("thead",[t("tr",[t("th",[s._v("运算符")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("ARG1 | ARG2")]),s._v(" "),t("td",[s._v("如果ARG1既不为null也不为0，就返回ARG1；否则返回ARG2")])]),s._v(" "),t("tr",[t("td",[s._v("ARG1 & ARG2")]),s._v(" "),t("td",[s._v("如果ARG1和ARG2都不为null或0，就返回ARG1；否则返回0")])]),s._v(" "),t("tr",[t("td",[s._v("ARG1 < ARG2")]),s._v(" "),t("td",[s._v("如果ARG1小于ARG2，就返回1；否则返回0")])]),s._v(" "),t("tr",[t("td",[s._v("ARG1 <= ARG2")]),s._v(" "),t("td",[s._v("如果ARG1小于或等于ARG2，就返回1；否则返回0")])]),s._v(" "),t("tr",[t("td",[s._v("ARG1 = ARG2")]),s._v(" "),t("td",[s._v("如果ARG1等于ARG2，就返回1；否则返回0")])]),s._v(" "),t("tr",[t("td",[s._v("ARG1 != ARG2")]),s._v(" "),t("td",[s._v("如果ARG1不等于ARG2，就返回1；否则返回0")])]),s._v(" "),t("tr",[t("td",[s._v("ARG1 >= ARG2")]),s._v(" "),t("td",[s._v("如果ARG1大于或等于ARG2，就返回1；否则返回0")])]),s._v(" "),t("tr",[t("td",[s._v("ARG1 > ARG2")]),s._v(" "),t("td",[s._v("如果ARG1大于ARG2，就返回1；否则返回0")])]),s._v(" "),t("tr",[t("td",[s._v("ARG1 + ARG2")]),s._v(" "),t("td",[s._v("和")])]),s._v(" "),t("tr",[t("td",[s._v("ARG1 - ARG2")]),s._v(" "),t("td",[s._v("差")])]),s._v(" "),t("tr",[t("td",[s._v("ARG1 * ARG2")]),s._v(" "),t("td",[s._v("积")])]),s._v(" "),t("tr",[t("td",[s._v("ARG1 / ARG2")]),s._v(" "),t("td",[s._v("商")])]),s._v(" "),t("tr",[t("td",[s._v("ARG1 % ARG2")]),s._v(" "),t("td",[s._v("余数")])]),s._v(" "),t("tr",[t("td",[s._v("STRING : REGEXP")]),s._v(" "),t("td",[s._v("如果REGEXP模式匹配STRING，就返回该匹配模式的内容")])]),s._v(" "),t("tr",[t("td",[s._v("match STRING REGEXP")]),s._v(" "),t("td",[s._v("如果REGEXP模式匹配STRING，就返回该匹配模式的内容")])]),s._v(" "),t("tr",[t("td",[s._v("substr STRING POS LENGTH")]),s._v(" "),t("td",[s._v("返回起始位置为POS（从1开始计数）、长度为LENGTH的子串")])]),s._v(" "),t("tr",[t("td",[s._v("index STRING CHARS")]),s._v(" "),t("td",[s._v("返回CHARS在字符串STIRNG中所处的位置，否则返回0")])]),s._v(" "),t("tr",[t("td",[s._v("length STRING")]),s._v(" "),t("td",[s._v("返回字符串STRING的长度")])]),s._v(" "),t("tr",[t("td",[s._v("+ TOKEN")]),s._v(" "),t("td",[s._v("将TOKEN解释成字符串，即使TOKEN属于关键字")])]),s._v(" "),t("tr",[t("td",[s._v("(EXPRESSION)")]),s._v(" "),t("td",[s._v("返回EXPRESSION的值")])])])]),s._v(" "),t("h4",{attrs:{id:"浮点数解决方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#浮点数解决方案"}},[s._v("#")]),s._v(" 浮点数解决方案")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.46")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("43.67")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var3")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33.2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var4")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("71")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var5")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bc")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF\nscale = 4\na1=("),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var1")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var2")]),s._v(")\nb1=("),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var3")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var4")]),s._v(")\na1+b1\nEOF")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" The result is "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var5")]),s._v("\n")])])]),t("h3",{attrs:{id:"退出脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#退出脚本"}},[s._v("#")]),s._v(" 退出脚本")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("Linux提供了专门的变量$?来保存最后一个已执行命令的退出状态码")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("exit")]),s._v("命令允许在脚本结束时指定一个退出状态码")])])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("状态码")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("0")]),s._v(" "),t("td",[s._v("命令成功结束")])]),s._v(" "),t("tr",[t("td",[s._v("1")]),s._v(" "),t("td",[s._v("一般性未知错误")])]),s._v(" "),t("tr",[t("td",[s._v("2")]),s._v(" "),t("td",[s._v("不适合的shell命令")])]),s._v(" "),t("tr",[t("td",[s._v("126")]),s._v(" "),t("td",[s._v("命令无法执行")])]),s._v(" "),t("tr",[t("td",[s._v("127")]),s._v(" "),t("td",[s._v("没有找到命令")])]),s._v(" "),t("tr",[t("td",[s._v("128")]),s._v(" "),t("td",[s._v("无效的退出参数")])]),s._v(" "),t("tr",[t("td",[s._v("128 + x")]),s._v(" "),t("td",[s._v("与Linux信号x相关的严重错误")])]),s._v(" "),t("tr",[t("td",[s._v("130")]),s._v(" "),t("td",[s._v("通过Ctrl+C终止的命令")])]),s._v(" "),t("tr",[t("td",[s._v("255")]),s._v(" "),t("td",[s._v("正常范围之外的退出状态码")])])])]),s._v(" "),t("h2",{attrs:{id:"结构化命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结构化命令"}},[s._v("#")]),s._v(" 结构化命令")]),s._v(" "),t("h3",{attrs:{id:"if-then语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#if-then语句"}},[s._v("#")]),s._v(" if-then语句")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("bash shell的"),t("code",[s._v("if")]),s._v("语句会运行"),t("code",[s._v("if")]),s._v("之后的命令。如果该命令的退出状态码为0，那么位于then部分的命令就会被执行")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("test")]),s._v("命令可以在"),t("code",[s._v("if-then")]),s._v("语句中测试不同的条件。如果"),t("code",[s._v("test")]),s._v("命令中列出的条件成立，那么"),t("code",[s._v("test")]),s._v("命令就会退出并返回退出状态码0")])]),s._v(" "),t("li",[t("p",[s._v("如果不写"),t("code",[s._v("test")]),s._v("命令的condition部分，则它会以非0的退出状态码退出并执行"),t("code",[s._v("else")]),s._v("代码块语句")])])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以写成 if [ $var ]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The var variable has content and returns a True"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The var variable has doesn\'t hava content"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])])]),t("h4",{attrs:{id:"test-数值比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#test-数值比较"}},[s._v("#")]),s._v(" test 数值比较")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 比较运算符 eq ge gt le lt ne")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The var variable has content and returns a True"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The var variable has doesn\'t hava content"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n")])])]),t("h4",{attrs:{id:"test-字符串比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#test-字符串比较"}},[s._v("#")]),s._v(" test 字符串比较")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Str\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" str "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The var variable has content and returns a True"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The var variable has doesn\'t hava content"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])])]),t("ul",[t("li",[t("p",[s._v("比较运算符"),t("code",[s._v("= != < > -n -z")])])]),s._v(" "),t("li",[t("p",[s._v("大于和小于需要转义，"),t("code",[s._v("\\> \\<")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("-n str")]),s._v(" 检查str的长度是否不为0；"),t("code",[s._v("-z str")]),s._v(" 检查str的长度是否为0")])]),s._v(" "),t("li",[t("p",[s._v("大于和小于使用的是标准的Unicode顺序。"),t("code",[s._v("sort")]),s._v("命令使用的是系统的语言环境设置中定义的排序顺序。对于英语，语言环境设置指定了在排序顺序中小写字母出现在大写字母之前")])]),s._v(" "),t("li",[t("p",[s._v("空变量和未初始化的变量会对shell脚本测试造成灾难性的影响。如果不确定变量的内容，那么最好在将其用于数值或字符串比较之前先通过"),t("code",[s._v("-n")]),s._v("或"),t("code",[s._v("-z")]),s._v("来测试一下变量是否为空")])])]),s._v(" "),t("h4",{attrs:{id:"test-文件比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#test-文件比较"}},[s._v("#")]),s._v(" test 文件比较")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("比较")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("-d file")]),s._v(" "),t("td",[s._v("检查是否存在且为目录")])]),s._v(" "),t("tr",[t("td",[s._v("-e file")]),s._v(" "),t("td",[s._v("检查是否存在")])]),s._v(" "),t("tr",[t("td",[s._v("-f file")]),s._v(" "),t("td",[s._v("检查是否存在且为文件")])]),s._v(" "),t("tr",[t("td",[s._v("-r file")]),s._v(" "),t("td",[s._v("检查是否存在且可读")])]),s._v(" "),t("tr",[t("td",[s._v("-s file")]),s._v(" "),t("td",[s._v("检查是否存在且非空")])]),s._v(" "),t("tr",[t("td",[s._v("-w file")]),s._v(" "),t("td",[s._v("检查是否存在且可写")])]),s._v(" "),t("tr",[t("td",[s._v("-x file")]),s._v(" "),t("td",[s._v("检查是否存在且可执行")])]),s._v(" "),t("tr",[t("td",[s._v("-O file")]),s._v(" "),t("td",[s._v("检查是否存在且属于当前用户")])]),s._v(" "),t("tr",[t("td",[s._v("-G file")]),s._v(" "),t("td",[s._v("检查是否存在且默认组与当前用户相同")])]),s._v(" "),t("tr",[t("td",[s._v("file1 -nt file2")]),s._v(" "),t("td",[s._v("检查file1是否比file2新")])]),s._v(" "),t("tr",[t("td",[s._v("file1 -ot file2")]),s._v(" "),t("td",[s._v("检查file1是否比file2旧")])])])]),s._v(" "),t("h4",{attrs:{id:"复合条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#复合条件"}},[s._v("#")]),s._v(" 复合条件")]),s._v(" "),t("ul",[t("li",[s._v("[ condition1 ] && [ condition2 ]")]),s._v(" "),t("li",[s._v("[ condition1 ] || [ condition2 ]")])]),s._v(" "),t("h4",{attrs:{id:"if-then的高级特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#if-then的高级特性"}},[s._v("#")]),s._v(" if-then的高级特性")]),s._v(" "),t("p",[t("strong",[s._v("使用单括号")])]),s._v(" "),t("p",[s._v("单括号允许在if语句中使用子shell")]),s._v(" "),t("p",[t("strong",[s._v("使用双括号")])]),s._v(" "),t("p",[s._v("双括号命令允许在比较过程中使用高级数学表达式")]),s._v(" "),t("p",[t("strong",[s._v("使用双方括号")])]),s._v(" "),t("p",[s._v("双方括号命令提供了针对字符串比较的高级特性")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" ./my_shell.sh \n     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# checks system for popular package managers")]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("############################# User Introduction ################################")]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"##########################################################################"')]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"this script checks your Linux system for popular"')]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"package managers and application containers, lists "')]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"what\'s available, and makes an educated guess on your "')]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"distribution\'s base distro (Red Hat or Debian)."')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"##########################################################################"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("############################ Red Hat Checks ####################################")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Checking for Red Hat-based package managers & application contianers..."')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#####")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("which "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" /dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_rpm")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"You hava the basic rpm urility"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_rpm")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#####")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("26")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("which dnf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" /dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_dnfyum")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"You hava the dnf package manager"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("which yum "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" /dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("32")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_dnfyum")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"You hava the yum package manager"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("34")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_dnfyum")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("36")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("37")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#####")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("38")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("which flatpak "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" /dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("39")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("40")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_flatpak")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("41")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"You hava the flatpak application container"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_flatpak")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#####")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("46")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("redhatscore")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$item_rpm")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$item_dnfyum")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$item_flatpak")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("47")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("########################### Debian Checks #######################################")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("48")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("49")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Checking for Debian-based package managers & application containers..."')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#####")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("51")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("which dpkg "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" /dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("53")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_dpkg")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("54")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"You hava the basic dpkg utility"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_dpkg")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("57")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("58")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#####")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("59")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("which "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" /dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("61")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_apt")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"You hava the apt package manager"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("63")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("which "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" /dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_apt")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"You hava the apt-get/apt-cache package manager"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("67")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("68")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_apt")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("69")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#####")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("71")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("which snap "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" /dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("73")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_snap")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("74")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"You hava the snap application container"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("75")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("76")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("item_snap")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("77")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("78")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#####")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("79")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("debianscore")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$item_dpkg")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$item_apt")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$item_snap")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("######################### Determine Distro ######################################")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("81")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("82")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$redhatscore")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-gt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$debianscore")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("84")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Most likely your Linux distribution is Red Hat-based"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("85")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$debianscore")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-gt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$redhatscore")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("86")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("87")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Most likely your Linux distrubution is Debian-based"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("89")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Unable to determine Linux distribution base"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("91")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#################################################################################")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])])]),t("h3",{attrs:{id:"case-语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#case-语句"}},[s._v("#")]),s._v(" case 语句")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$USER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\ntest1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\ntest2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" test3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test2 | test3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"other"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n\n")])])]),t("h3",{attrs:{id:"for-语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#for-语句"}},[s._v("#")]),s._v(" for 语句")]),s._v(" "),t("p",[s._v("使用转义字符（反斜线）将单引号转义")]),s._v(" "),t("p",[s._v("使用双引号来定义含有单引号的值")]),s._v(" "),t("p",[t("code",[s._v("for")]),s._v("命令使用空格来划      分列表中的每个值。如果某个值含有空格，则必须将其放入双引号内")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("test")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"New Hampshire"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"New Mexico"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"New York"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Now going to '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$test")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("IFS")]),s._v(".OLD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$IFS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#IFS变量代表字段分隔符")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("IFS")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("$'"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("entry")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/passwd"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Values in '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$entry")]),s._v(' --"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("IFS")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(":\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("value")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$entry")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\t'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$value")]),s._v('"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" test.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出到文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("IFS")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$IFS")]),s._v(".OLD\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# finding files in the PATH")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("IFS")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(":\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("folder")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$folder")]),s._v(':"')]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$folder")]),s._v("/*\n   "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$file")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#目录名和文件名中可能包含空格")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n         "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"   '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$file")]),s._v('"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n$\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The next number is '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])])]),t("h3",{attrs:{id:"while-语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#while-语句"}},[s._v("#")]),s._v(" while 语句")]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v("while")]),s._v("命令允许在while语句行定义多个测试命令。只有最后一个测试命令的退出状态码会被用于决定是否结束循环")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-gt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var")]),s._v("-1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])])]),t("h3",{attrs:{id:"until-语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#until-语句"}},[s._v("#")]),s._v(" until 语句")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("until")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$var")]),s._v("-1 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])])]),t("h3",{attrs:{id:"循环控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#循环控制"}},[s._v("#")]),s._v(" 循环控制")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("break n")]),s._v(" 跳出n层循环")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("continue n")])])])]),s._v(" "),t("h2",{attrs:{id:"用户输入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户输入"}},[s._v("#")]),s._v(" 用户输入")]),s._v(" "),t("h3",{attrs:{id:"传递参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#传递参数"}},[s._v("#")]),s._v(" 传递参数")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sh_name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("basename")]),s._v(" $0 "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" This script name is "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$sh_name")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" The first parameter is "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" The second parameter is "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" The number of parameters is "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" The last parameter is "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("#")]),s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" The paramters is "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$*")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" The paramters are "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v("\n")])])]),t("ul",[t("li",[t("code",[s._v("$#")]),s._v("含有脚本运行时携带的命令行参数的个数，"),t("code",[s._v("${!#}")]),s._v("返回最后一个参数")]),s._v(" "),t("li",[s._v("当命令行中没有任何参数时，"),t("code",[s._v("$#")]),s._v("的值即为0，但"),t("code",[s._v("${!#}")]),s._v("会返回命令行中的脚本名")]),s._v(" "),t("li",[t("code",[s._v("$*")]),s._v("变量会将所有参数视为单个参数，而"),t("code",[s._v("$@")]),s._v("变量会单独处理每个参数")]),s._v(" "),t("li",[s._v("如果脚本需要的命令行参数不止9个，在第9个位置变量之后，必须在变量名两侧加上花括号，比如"),t("code",[s._v("${10}")])])]),s._v(" "),t("h3",{attrs:{id:"移动参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#移动参数"}},[s._v("#")]),s._v(" 移动参数")]),s._v(" "),t("p",[s._v("在使用"),t("code",[s._v("shift")]),s._v("命令时，默认情况下会将每个位置的变量值都向左移动一个位置，变量"),t("code",[s._v("$0")]),s._v("的值不会改变；")]),s._v(" "),t("p",[t("code",[s._v("shift n")]),s._v(" 会将每个位置的变量值都向左移动n个位置")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Parameter #'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" = "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shift")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n$ ./my_shell.sh "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"111"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"222"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"333"')]),s._v("\nParameter "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1 = 111")]),s._v("\nParameter "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2 = 222")]),s._v("\nParameter "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3 = 333")]),s._v("\n")])])]),t("h3",{attrs:{id:"处理参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#处理参数"}},[s._v("#")]),s._v(" 处理参数")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" -- "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("getopt "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),s._v(" ab:cd "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" \n\t\t-a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Found the -a option"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t-b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Found the -b option with parameter value '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v('"')]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shift")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t-c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Found the -c option"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t--"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shift")]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("break")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(' is not option"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shift")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("param")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Paramter #'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$param")]),s._v('"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n$ ./my_shell.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" -- "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("\nFound the "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" option\nFound the "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" option with parameter value "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'12'")]),s._v("\nFound the "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" option\n\nParamter "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1:'11'")]),s._v("\nParamter "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2:'22'")]),s._v("\nParamter "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3:'33'")]),s._v("\n")])])]),t("ul",[t("li",[t("code",[s._v("set")]),s._v("命令有一个选项是双连字符（--），可以将位置变量的值替换成"),t("code",[s._v("set")]),s._v("命令所指定的值")]),s._v(" "),t("li",[t("code",[s._v("getopt")]),s._v("命令：在每个需要参数值的选项字母后面加一个冒号；")]),s._v(" "),t("li",[t("code",[s._v("getopt")]),s._v("命令：未包含指定选项，默认情况下，会产生一条错误消息，-q 忽略错误消息")]),s._v(" "),t("li",[t("code",[s._v("getopt")]),s._v("命令并不能处理带空格和引号的参数值，"),t("code",[s._v("getopts")]),s._v(" 可以")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("getopts")]),s._v(" :ab:cd opt\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$opt")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" \n\t\ta"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Found the -a option"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\tb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Found the -b option with parameter value '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$OPTARG")]),s._v('"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\tc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Found the -c option"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$opt")]),s._v(' is not option"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shift")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$OPTIND")]),s._v(" - "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("param")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Paramter #'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$param")]),s._v('"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n$ ./my_shell.sh "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v("\nFound the "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" option\nFound the "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" option with parameter value "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\nFound the "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" option\n\nParamter "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1:11")]),s._v("\nParamter "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2:22")]),s._v("\nParamter "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3:33")]),s._v("\n\n")])])]),t("ul",[t("li",[s._v("OPTARG环境变量保存参数值；OPTIND环境变量保存正在处理的参数位置")])]),s._v(" "),t("h3",{attrs:{id:"获取用户输入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取用户输入"}},[s._v("#")]),s._v(" 获取用户输入")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Do you want to continue [Y/N]?"')]),s._v(" answer\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$answer")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n\t\tY "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" y "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t       \t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"continue"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\tN "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t       \t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"goodbye"')]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"This is the end of the script"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"timeout"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])])]),t("ul",[t("li",[s._v("-t选项会指定read命令等待输入的秒数，如果超时，返回非0退出状态码")]),s._v(" "),t("li",[s._v("-n当字符数达到预设值时，就自动退出")])]),s._v(" "),t("p",[t("strong",[s._v("使用ping命令或ping6命令测试网络连通性")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Check systems on local network allowing for ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# a variety of input methods")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("############## determine Input Method ##################")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Check for command-line options here using getopts")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if none, then go on to File Input Method")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("getopts")]),s._v(" t: opt\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$opt")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n\t\tt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Fount the -t option")]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$OPTARG")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IPv4"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pingcommand")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$OPTARG")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IPv6"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pingcommand")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" ping6"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Usage: -t IPv4 or -t IPv6"')]),s._v("\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Exiting script..."')]),s._v("\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Usage: -t IPv4 or -t IPv6"')]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Exiting script..."')]),s._v("\n\t\t       \t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\t\n\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("shift")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$OPTIND")]),s._v(" - "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-eq")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IP Address parameters are missing"')]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Exiting script..."')]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("ipaddress")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Checking system at '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ipaddress")]),s._v('..."')]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$pingcommand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ipaddress")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##################### File Input Method #####################")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Please enter the file name with an absolute directory reference..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("choice")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$choice")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-eq")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Enter name of file:"')]),s._v(" filename\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-z")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$filename")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("quitanswer")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Quit script [Y/N]?"')]),s._v(" quitanswer\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$quitanswer")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" \n\t\t\tY "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Quitting script..."')]),s._v("\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t\tN "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"please answer question:"')]),s._v("\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("choice")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t\t\t*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t\t\t       \t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"No response. Quitting script..."')]),s._v("\n\t\t\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\t\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("choice")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$filename")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$filename")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$filename")]),s._v(' is a file, is readable, and is not empty."')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$filename")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" line\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ipaddress")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$line")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" line\n\t\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("iptype")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$line")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$iptype")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IPv4"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pingcommand")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n\t\t\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pingcommand")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" ping6"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Checking system at '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ipaddress")]),s._v('..."')]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$pingcommand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-q")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ipaddress")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Fineshed processing the file. All systems checked."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$filename")]),s._v(' is either not a file, is empty, or is"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"not readable. Exiting script..."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])])]),t("h2",{attrs:{id:"数据输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据输出"}},[s._v("#")]),s._v(" 数据输出")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("Linux系统会将每个对象当作文件来处理，包括输入和输出。Linux用文件描述符来标识每个文件对象。文件描述符是一个非负整数，唯一会标识的是会话中打开的文件")]),s._v(" "),t("li",[s._v("bash shell保留了前3个文件描述符（0 STDIN、1 STDOUT和2 STDERR）")]),s._v(" "),t("li",[s._v("输入重定向符（<），重定向指定的文件替换标准输入文件描述符")]),s._v(" "),t("li",[s._v("输出重定向符（>），将所有输出重定向到指定的文件；（>>） 将数据追加到某个文件")]),s._v(" "),t("li",[s._v("默认情况下，STDERR和STDOUT指向同一个地方")])])]),s._v(" "),t("h3",{attrs:{id:"命令行中重定向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令行中重定向"}},[s._v("#")]),s._v(" 命令行中重定向")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v(" stdout.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重定向正常输出")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v(" stderr.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重定向错误消息")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v(" std.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重定向正常输出和错误消息")]),s._v("\n")])])]),t("h3",{attrs:{id:"脚本中重定向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#脚本中重定向"}},[s._v("#")]),s._v(" 脚本中重定向")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 临时重定向")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"This is an error message"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&2")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 永久重定向")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),s._v("err.txt\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"This is an error message"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&2")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重定向输入")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("0")]),s._v("<")]),s._v("input.txt\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" line\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Line '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(": "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$line")]),s._v('"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建输出重定向")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v(">")]),s._v("test3.txt\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"This should be stored in the test3.txt"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&3")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重定向然后恢复")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v("test1.txt\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"This should be stored in the test1.txt"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"This is a normal message"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭文件描述符")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("3")]),s._v(">&")]),s._v("-\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"This is a test line of data"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&3")]),s._v("\n")])])]),t("h3",{attrs:{id:"列出打开的文件描述符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#列出打开的文件描述符"}},[s._v("#")]),s._v(" 列出打开的文件描述符")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$$")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0,1")]),s._v(",2\n")])])]),t("ul",[t("li",[t("code",[s._v("lsof")]),s._v("命令会列出整个Linux系统打开的所有文件描述符，这包括所有后台进程以及登录用户打开的文件")]),s._v(" "),t("li",[s._v("-p指定进程ID, $$指进程的当前PID")]),s._v(" "),t("li",[s._v("-d指定要显示的文件描述符编号")]),s._v(" "),t("li",[s._v("-a选项执行AND运算")])]),s._v(" "),t("h3",{attrs:{id:"抑制命令输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#抑制命令输出"}},[s._v("#")]),s._v(" 抑制命令输出")]),s._v(" "),t("p",[s._v("在Linux系统中，null文件的标准位置是/dev/null。重定向到该位置的任何数据都会被丢弃")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-al")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /dev/null\n")])])]),t("p",[s._v("快速清除现有文件中的数据")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /dev/null "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" err.txt\n")])])]),t("h3",{attrs:{id:"使用临时文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用临时文件"}},[s._v("#")]),s._v(" 使用临时文件")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ mktemp temp.XXXXXX "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在当前文件夹创建临时文件")]),s._v("\n$ mktemp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" temp.XXXXXX "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在/tmp文件夹创建临时文件")]),s._v("\n$ mktemp "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" dir.XXXXXX "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建临时文件夹")]),s._v("\n")])])]),t("h3",{attrs:{id:"记录消息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#记录消息"}},[s._v("#")]),s._v(" 记录消息")]),s._v(" "),t("p",[t("code",[s._v("tee")]),s._v("命令能将来自STDIN的数据同时送往STDOUT和tee命令行所指定的文件名")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" temp.txt\n")])])]),t("h3",{attrs:{id:"csv转sql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#csv转sql"}},[s._v("#")]),s._v(" csv转sql")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ./my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("outfile")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user.sql"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("IFS")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('","')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" name age address\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$outfile")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF\nINSERT INTO user (name, age, address) VALUES ('"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v("', '"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$age")]),s._v("', '"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$address")]),s._v("');\nEOF")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${1}")]),s._v("\n")])])]),t("h2",{attrs:{id:"脚本控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#脚本控制"}},[s._v("#")]),s._v(" 脚本控制")]),s._v(" "),t("h3",{attrs:{id:"处理信号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#处理信号"}},[s._v("#")]),s._v(" 处理信号")]),s._v(" "),t("blockquote",[t("p",[s._v("Ctrl+C组合键会生成SIGINT信号（中断进程）")]),s._v(" "),t("p",[s._v("Ctrl+Z组合键会生成SIGTSTP信号，停止shell中运行的任何进程（暂停进程）")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("trap")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"echo 'Sorry! Trapped Ctrl-C'\"")]),s._v(" SIGINT "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#捕获SIGINT")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("trap")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" SIGINT "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#完全忽略SIGINT信号")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("trap")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"echo 'exiting...'\"")]),s._v(" EXIT "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#捕获脚本退出")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("trap")]),s._v(" -- SIGINT "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#恢复默认")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"This is a test script"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-le")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Loop #'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v('"')]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"This is the end of test script"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\n")])])]),t("h3",{attrs:{id:"以后台模式运行脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#以后台模式运行脚本"}},[s._v("#")]),s._v(" 以后台模式运行脚本")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ ./my_shell.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])])]),t("blockquote",[t("p",[s._v("终端会话退出，后台进程也会随之退出")])]),s._v(" "),t("h3",{attrs:{id:"在非控制台下运行脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在非控制台下运行脚本"}},[s._v("#")]),s._v(" 在非控制台下运行脚本")]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v("nohup")]),s._v("命令能阻断发给特定进程的SIGHUP信号。当退出终端会话时，这可以避免进程退出")]),s._v(" "),t("p",[t("code",[s._v("nohup")]),s._v("命令会自动将STDOUT和STDERR产生的消息重定向到nohup.out文件中")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" ./my_shell.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("186008")]),s._v("\n")])])]),t("h3",{attrs:{id:"作业控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#作业控制"}},[s._v("#")]),s._v(" 作业控制")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("jobs")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# + 代表默认作业 - 代表下一个默认作业，+ - 都只有一个")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("+  运行中               ./my_shell.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bg")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以后台模式重启作业")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fg")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以前台模式重启作业")]),s._v("\n")])])]),t("h3",{attrs:{id:"调整谦让度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调整谦让度"}},[s._v("#")]),s._v(" 调整谦让度")]),s._v(" "),t("blockquote",[t("p",[s._v("-20（最低值）代表最高优先级，+19（最高值）代表最低优先级，默认0")]),s._v(" "),t("p",[s._v("nice命令会阻止普通用户提高命令的优先级")]),s._v(" "),t("p",[s._v("只有root用户或者特权用户才能提高作业的优先级")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("nice")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" ./my_shell.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("187567")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("187567")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\nF S   "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("     PID    "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("187567")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("105373")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("90")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" -  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3299")]),s._v(" do_wai pts/0    00:00:00 my_shell.sh\n")])])]),t("blockquote",[t("p",[s._v("renice命令会自动更新运行进程的调度优先级")]),s._v(" "),t("p",[s._v("只能对属主为自己的进程使用renice且只能降低调度优先级")]),s._v(" "),t("p",[s._v("root用户和特权用户可以使用renice命令对任意进程的优先级做任意调整")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("renice")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("187567")]),s._v("\n")])])]),t("h3",{attrs:{id:"定时运行作业"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定时运行作业"}},[s._v("#")]),s._v(" 定时运行作业")]),s._v(" "),t("h4",{attrs:{id:"使用at命令调度作业"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用at命令调度作业"}},[s._v("#")]),s._v(" 使用at命令调度作业")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ at "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-M")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" ./my_shell.sh now "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-M 禁止作业产生的输出信息 -f 指定文件 -q 指定作业队列优先级 a~z A~Z")]),s._v("\nwarning: commands will be executed using /bin/sh\njob "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" at Thu Jan "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":27:00 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2024")]),s._v("\n\n$ atq "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#列出等待的作业")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\tThu Jan "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":31:00 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2024")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" yuan\n\n$ atrm "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除等待的作业")]),s._v("\n")])])]),t("h4",{attrs:{id:"调度需要定期运行的脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#调度需要定期运行的脚本"}},[s._v("#")]),s._v(" 调度需要定期运行的脚本")]),s._v(" "),t("h5",{attrs:{id:"_1-编辑计划任务文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-编辑计划任务文件"}},[s._v("#")]),s._v(" 1. 编辑计划任务文件")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" root "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#编辑用户 root 的计划任务文件（需要有 root 权限）")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#编辑当前用户的计划任务文件")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" root "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示用户 root 的计划任务文件（需要有 root 权限）")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示当前用户的计划任务文件")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("crontab")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除当前用户的计划任务文件")]),s._v("\n")])])]),t("p",[t("strong",[s._v("cron语法格式")])]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("# m   h   dom   mon dow  command\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("59")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  command\n")])])]),t("table",[t("thead",[t("tr",[t("th",[s._v("符号")]),s._v(" "),t("th",[s._v("含义")]),s._v(" "),t("th",[s._v("取值范围")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("m")]),s._v(" "),t("td",[s._v("表示分钟")]),s._v(" "),t("td",[s._v("0-59")])]),s._v(" "),t("tr",[t("td",[s._v("h")]),s._v(" "),t("td",[s._v("表示小时")]),s._v(" "),t("td",[s._v("0-23")])]),s._v(" "),t("tr",[t("td",[s._v("dom")]),s._v(" "),t("td",[s._v("day of month，表示日期")]),s._v(" "),t("td",[s._v("1-31")])]),s._v(" "),t("tr",[t("td",[s._v("mon")]),s._v(" "),t("td",[s._v("month，表示月份")]),s._v(" "),t("td",[s._v("1-12")])]),s._v(" "),t("tr",[t("td",[s._v("dow")]),s._v(" "),t("td",[s._v("day of week，表示星期")]),s._v(" "),t("td",[s._v("0-7")])]),s._v(" "),t("tr",[t("td",[s._v("command")]),s._v(" "),t("td",[s._v("待执行的命令")]),s._v(" "),t("td",[s._v("-")])])])]),s._v(" "),t("p",[s._v("需要特殊说明的是，dow 的取值范围为 "),t("code",[s._v("0-7")]),s._v(" 共 8 个数，"),t("code",[s._v("1-6")]),s._v(" 分别表示周一-周六，0 和 7 均表示"),t("code",[s._v("周日")])]),s._v(" "),t("p",[s._v("另外需要使用一些特殊符号实现灵活的配置：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("* 代表所有值")])]),s._v(" "),t("li",[t("code",[s._v("/ 代表“每”")])]),s._v(" "),t("li",[t("code",[s._v("- 代表范围")])]),s._v(" "),t("li",[t("code",[s._v(", 分割数字")])])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 指定具体执行时间")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("   *  *  *  * "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#每个小时的第 2 分钟执行一次 ls 命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  *  *  * "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#每天 7：30 执行一次 ls 命令")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("  *  *  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#每周二，20：30执行一次 ls 命令（0 和 7 表示星期天）")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 指定间隔时间")]),s._v("\n*/2 *  *  *  * "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#每隔 2 分钟执行一次 ls 命令")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 指定时间段")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("-6 *  * "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#每个月的 3，4，5，6 号的 7：30 分各执行一次 ls 命令")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 指定多个时间")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3,6")]),s._v(" *  * "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#每月的 3 号和 6 号的 7：30 分各执行一次 ls 命令")]),s._v("\n")])])]),t("h5",{attrs:{id:"_2-将脚本放到预配置的cron脚本目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-将脚本放到预配置的cron脚本目录"}},[s._v("#")]),s._v(" 2.将脚本放到预配置的cron脚本目录")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /etc/cron.*ly\n/etc/cron.daily:\n0anacron  apport  apt-compat  cracklib-runtime  dpkg  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("logrotate")]),s._v("  man-db  samba\n\n/etc/cron.hourly:\n\n/etc/cron.monthly:\n0anacron\n\n/etc/cron.weekly:\n0anacron  man-db\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /var/spool/anacron/\ncron.daily  cron.monthly  cron.weekly\n")])])]),t("blockquote",[t("p",[s._v("cron.daily  cron.monthly  cron.weekly由anacron调度，anacron能确保关机再开启后，尽快运行错过的作业")])]),s._v(" "),t("h2",{attrs:{id:"函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[s._v("#")]),s._v(" 函数")]),s._v(" "),t("h3",{attrs:{id:"函数返回值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数返回值"}},[s._v("#")]),s._v(" 函数返回值")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("db1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Enter a value:"')]),s._v(" value\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$value")]),s._v(" * "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 最后一行未使用return，函数返回最后一行的退出状态码")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# return $[ $value * 2] # return 指定退出状态码， 范围0-255")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("result")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("db1"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将函数输出赋值给result变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Result is '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$result")]),s._v('"')]),s._v("\ndb1\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The new value is '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $?变量保存的是最后执行的命令的退出状态码")]),s._v("\n\n$ ./my_shell.sh \nEnter a value:100\nResult is "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v("\nEnter a value:100\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v("\nThe new value is "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),t("h3",{attrs:{id:"在函数中使用变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在函数中使用变量"}},[s._v("#")]),s._v(" 在函数中使用变量")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("calc")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("temp")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$value")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# local 修饰局部变量 ")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$temp")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $1 $2 函数的参数")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-eq")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("value")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全局变量")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("result")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("calc $1 $2"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# $1 $2 脚本的参数")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Result is '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$result")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Usage: add a b"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])])]),t("h3",{attrs:{id:"在函数中使用数组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在函数中使用数组"}},[s._v("#")]),s._v(" 在函数中使用数组")]),s._v(" "),t("blockquote",[t("p",[s._v("函数中传入数组或返回数组时都需要将数组展开")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("arrayhandler")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" origarray\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" newarray\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" elements\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" i\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("origarray")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("newarray")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("elements")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),s._v(" $elements"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \tnewarray"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${origarray"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("$i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${newarray"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("myarray")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The original array is '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${myarray"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("arg1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("myarray"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("result")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("arrayhandler $arg1"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The result is '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v('"')]),s._v("\n\n")])])]),t("h3",{attrs:{id:"函数递归"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数递归"}},[s._v("#")]),s._v(" 函数递归")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("factorial")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-eq")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("temp")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("result")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("factorial $temp"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$result")]),s._v(" * "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Enter a value: "')]),s._v(" value\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("result")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("factorial $value"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"The result is '),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$result")]),s._v('"')]),s._v("\n")])])]),t("h3",{attrs:{id:"库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#库"}},[s._v("#")]),s._v(" 库")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" myfuns.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("addem")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" + "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("multem")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" * "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("divem")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-eq")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-1")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" $"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" / "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" my_shell.sh \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" ./myfuns.sh "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# source命令的别名, source命令会在当前shell的上下文中执行命令，而不是创建新的shell并在其中执行命令")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("result")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("addem "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])])]),t("h2",{attrs:{id:"文本编辑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文本编辑"}},[s._v("#")]),s._v(" 文本编辑")]),s._v(" "),t("h3",{attrs:{id:"sed命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sed命令"}},[s._v("#")]),s._v(" sed命令")]),s._v(" "),t("h4",{attrs:{id:"替换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#替换"}},[s._v("#")]),s._v(" 替换")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/11/99/'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每一行执行一次替换")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/11/99/2'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每一行第二次匹配执行一次替换")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11991")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/11/99/g'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每一行所有匹配执行替换")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99991")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/11/99/p'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -n 抑制sed编辑器的输出 p 输出替换后的行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99111")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/11/99/w output.txt'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同p, 输出保存到指定文件")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s!/bin/bash!/bin/csh!'")]),s._v(" /etc/passwd "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择其他字符作为替换命令的替代分隔符")]),s._v("\nroot:x:0:0:root:/root:/bin/csh\n")])])]),t("h4",{attrs:{id:"行寻址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#行寻址"}},[s._v("#")]),s._v(" 行寻址")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1,2s/11/99/'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 对第1、2行执行替换")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,$s/22/99/'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 对第2到最后一行执行替换")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/22222/s/22/99/'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 正则匹配到的行执行替换")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n")])])]),t("h4",{attrs:{id:"命令组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#命令组"}},[s._v("#")]),s._v(" 命令组")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,${s/22/99/;s/222/666/}'")]),s._v(" input.txt\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99666")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,${\n> s/22/99/\n> s/222/666/\n> }'")]),s._v(" input.txt\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99666")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n")])])]),t("h4",{attrs:{id:"删除行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除行"}},[s._v("#")]),s._v(" 删除行")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,$d'")]),s._v(" input.txt \n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/222/d'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 正则匹配")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/222/,/444/d'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第一个正则匹配到的行开始，第二个匹配到的行结束，删除两行之间的行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n")])])]),t("h4",{attrs:{id:"插入和附加文本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#插入和附加文本"}},[s._v("#")]),s._v(" 插入和附加文本")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'i\\this is new line'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 插入")]),s._v("\nthis is new line\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\nthis is new line\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\nthis is new line\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a\\this is new line'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 附加")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\nthis is new line\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\nthis is new line\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\nthis is new line\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2a\\this is new line'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第二行附加")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\nthis is new line\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n")])])]),t("h4",{attrs:{id:"修改行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改行"}},[s._v("#")]),s._v(" 修改行")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2c\\this is new line'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改第二行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\nthis is new line\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n")])])]),t("h4",{attrs:{id:"转换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#转换"}},[s._v("#")]),s._v(" 转换")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'y/12/89/'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1转成8， 2转成9")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("88888")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99999")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("99999")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n")])])]),t("h4",{attrs:{id:"打印"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#打印"}},[s._v("#")]),s._v(" 打印")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'p'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'='")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印行号")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'l'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出命令可以打印数据流中的文本和不可打印字符")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("$\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("$\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("$\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n")])])]),t("h4",{attrs:{id:"写入和读取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#写入和读取"}},[s._v("#")]),s._v(" 写入和读取")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,4w output.txt'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 把input.txt中第2到4行写入output.txt")]),s._v("\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3r output.txt'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 读取output.txt内容附加到第三行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n")])])]),t("h4",{attrs:{id:"多行命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多行命令"}},[s._v("#")]),s._v(" 多行命令")]),s._v(" "),t("blockquote",[t("p",[s._v("N：加入数据流中的下一行，创建一个多行组进行处理；n： 单行命令")]),s._v(" "),t("p",[s._v("D：删除多行组中的一行；d：单行删除")]),s._v(" "),t("p",[s._v("P：打印多行组中的一行；p：单行打印")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'N; /11\\n22/d'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# N 将第二行加入第一行，匹配删除多行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'N; /11\\n22/D'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# N 将第二行加入第一行，匹配删除第一行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n")])])]),t("h4",{attrs:{id:"保留空间"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#保留空间"}},[s._v("#")]),s._v(" 保留空间")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("命令")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("h")]),s._v(" "),t("td",[s._v("复制到保留空间")])]),s._v(" "),t("tr",[t("td",[s._v("H")]),s._v(" "),t("td",[s._v("附加到保留空间")])]),s._v(" "),t("tr",[t("td",[s._v("g")]),s._v(" "),t("td",[s._v("复制回模式空间")])]),s._v(" "),t("tr",[t("td",[s._v("G")]),s._v(" "),t("td",[s._v("附加回模式空间")])]),s._v(" "),t("tr",[t("td",[s._v("x")]),s._v(" "),t("td",[s._v("交换复制模式空间和保留空间的内容")])])])]),s._v(" "),t("h4",{attrs:{id:"排除命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#排除命令"}},[s._v("#")]),s._v(" 排除命令")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2,4!p'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不打印第2到4行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{1!G; h; $p}'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将文本行反转。$ 表示最后一次时打印。p 打印的是模式空间的内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n")])])]),t("h4",{attrs:{id:"分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分支"}},[s._v("#")]),s._v(" 分支")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /,/b start匹配成功，跳到:start位置，否则继续往下执行")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{\n:start\ns/,/ /1p\n/,/b start\n}'")]),s._v(" input.txt\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22,33")]),s._v(",44,55\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33,44")]),s._v(",55\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44,55")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v("\n")])])]),t("h4",{attrs:{id:"测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" 测试")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# t start 测试命令会根据先前的替换命令的结果跳转，如果匹配成功并完成替换，则跳转到:start处，否则不跳转")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{\n:start\ns/,/ /1p\nt start\n}'")]),s._v(" input.txt\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22,33")]),s._v(",44,55\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33,44")]),s._v(",55\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44,55")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55")]),s._v("\n")])])]),t("h4",{attrs:{id:"模式替换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模式替换"}},[s._v("#")]),s._v(" 模式替换")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/11/\"&\"/'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# & 代表匹配的内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"11"')]),s._v(",22,33,44,55\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/\\(11\\),22/\"\\1\"/'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# \\1 代表第一个括号里的内容")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"11"')]),s._v(",33,44,55\n\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456789"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{\n> :start\n> s/\\(.*[0-9]\\)\\([0-9]\\{3\\}\\)/\\1,\\2/\n> t start\n> }'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123,456")]),s._v(",789\n")])])]),t("h4",{attrs:{id:"sed使用工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sed使用工具"}},[s._v("#")]),s._v(" sed使用工具")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{/^$/d;$!G}'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /^$/d 删除空行 $!G 除最后一行每行后附加一行空行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'='")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'N; s/\\n/ /'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加行号")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印最后两行，3,$D表示当前行大于等于第三行时开始删除模式空间中第一行，q 退出")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{\n:start\n$q;N;3,$D\nb start\n}'")]),s._v(" input.txt\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n")])])]),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/./,/^$/!d'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除连续空行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/./,$!d'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除开头空行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n\n\n\n\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{\n>:start\n>/^\\n*$/{$d;N;b start}\n> }'")]),s._v(" input.txt "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除结尾空行")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11111")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22222")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("33333")]),s._v("\n\n\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("44444")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("55555")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);