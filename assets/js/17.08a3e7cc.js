(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{335:function(t,_,v){"use strict";v.r(_);var r=v(4),a=Object(r.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h2",{attrs:{id:"tcp-ip网络模型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#tcp-ip网络模型"}},[t._v("#")]),t._v(" TCP/IP网络模型")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("OSI七层模型")]),t._v(" "),_("th",[t._v("TCP/IP概念层模型")]),t._v(" "),_("th",[t._v("功能")]),t._v(" "),_("th",[t._v("TCP/IP协议族")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("应用层")]),t._v(" "),_("td",[t._v("应用层")]),t._v(" "),_("td",[t._v("文件传输，电子邮件，文件服务，虚拟终端")]),t._v(" "),_("td",[t._v("TFTP,HTTP,SNMP,FTP,SMTP,DNS,Telnet")])]),t._v(" "),_("tr",[_("td",[t._v("表示层")]),t._v(" "),_("td",[t._v("应用层")]),t._v(" "),_("td",[t._v("数据格式化，代码转化，数据加密")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("会话层")]),t._v(" "),_("td",[t._v("应用层")]),t._v(" "),_("td",[t._v("解除或建立与别的接点的联系")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[_("em",[_("strong",[t._v("传输层")])])]),t._v(" "),_("td",[_("em",[_("strong",[t._v("传输层")])])]),t._v(" "),_("td",[_("em",[_("strong",[t._v("提供端对端的接口")])])]),t._v(" "),_("td",[_("em",[_("strong",[t._v("TCP,UDP")])])])]),t._v(" "),_("tr",[_("td",[t._v("网络层")]),t._v(" "),_("td",[t._v("网络层")]),t._v(" "),_("td",[t._v("为数据包选择路由")]),t._v(" "),_("td",[t._v("IP,ICMP,RIP,OSPF,BGP,ICMP")])]),t._v(" "),_("tr",[_("td",[t._v("数据链路层")]),t._v(" "),_("td",[t._v("链路层")]),t._v(" "),_("td",[t._v("传输有地址的帧以及错误检测功能")]),t._v(" "),_("td",[t._v("SLIP,CSLIP,PPP,ARPRARP,MTU")])]),t._v(" "),_("tr",[_("td",[t._v("物理层")]),t._v(" "),_("td",[t._v("链路层")]),t._v(" "),_("td",[t._v("以二进制数据形式在物理媒体上传输")]),t._v(" "),_("td",[t._v("IS02110, IEEE802, IEEE802.2")])])])]),t._v(" "),_("h2",{attrs:{id:"tcp与udp"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#tcp与udp"}},[t._v("#")]),t._v(" TCP与UDP")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th"),t._v(" "),_("th",[t._v("UDP")]),t._v(" "),_("th",[t._v("TCP")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("是否连接")]),t._v(" "),_("td",[t._v("无连接")]),t._v(" "),_("td",[t._v("面向连接")])]),t._v(" "),_("tr",[_("td",[t._v("是否可靠")]),t._v(" "),_("td",[t._v("不可靠，不使用流量控制和拥塞控制")]),t._v(" "),_("td",[t._v("可靠，使用流量控制和拥塞控制")])]),t._v(" "),_("tr",[_("td",[t._v("连接对象个数")]),t._v(" "),_("td",[t._v("支持一对一，一对多，多对多")]),t._v(" "),_("td",[t._v("只支持一对一")])]),t._v(" "),_("tr",[_("td",[t._v("传输方式")]),t._v(" "),_("td",[t._v("面向报文")]),t._v(" "),_("td",[t._v("面向字节流")])]),t._v(" "),_("tr",[_("td",[t._v("首部开销")]),t._v(" "),_("td",[t._v("首部开销小，仅8字节")]),t._v(" "),_("td",[t._v("首部最小20字节，最大60字节")])]),t._v(" "),_("tr",[_("td",[t._v("使用场景")]),t._v(" "),_("td",[t._v("实时应用")]),t._v(" "),_("td",[t._v("要求可靠传输的应用")])])])]),t._v(" "),_("h2",{attrs:{id:"tcp头部"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#tcp头部"}},[t._v("#")]),t._v(" TCP头部")]),t._v(" "),_("p",[_("a",{attrs:{href:"https://nmap.org/book/tcpip-ref.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("TCP/IP Reference | Nmap Network Scanning"),_("OutboundLink")],1)]),t._v(" "),_("p",[_("img",{attrs:{src:"https://esqbs.github.io/image_store/blog/202306142321941.png",alt:""}})]),t._v(" "),_("h2",{attrs:{id:"tcp状态机"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#tcp状态机"}},[t._v("#")]),t._v(" TCP状态机")]),t._v(" "),_("h2",{attrs:{id:"tcp三次握手"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#tcp三次握手"}},[t._v("#")]),t._v(" TCP三次握手")]),t._v(" "),_("ol",[_("li",[t._v("客户端发送syn包（syn=x）到服务器，并进入SYN_SENT状态，等待服务器确认")]),t._v(" "),_("li",[t._v("服务器收到syn包并确认客户的syn包（ack=x+1），同时发送一个自己的syn包（syn=y），即SYN+ACK包，服务器进入SYN_RECV状态")]),t._v(" "),_("li",[t._v("客户端收到服务端的SYN+ACK包，向服务器发送确认包ACK（ack=y+1），客户端和服务器进入ESTABLISHED状态")])]),t._v(" "),_("h2",{attrs:{id:"tcp四次挥手"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#tcp四次挥手"}},[t._v("#")]),t._v(" TCP四次挥手")]),t._v(" "),_("ol",[_("li",[t._v("主动端向被动端发送连接释放请求")]),t._v(" "),_("li",[t._v("被动端收到连接释放请求后，会发送ACK包，并进入CLOSE_WAIT状态， B不再接收主动端的数据")]),t._v(" "),_("li",[t._v("B发送数据完毕后，向主动端发送连接释放请求，被动端进入LAST_ACK状态")]),t._v(" "),_("li",[t._v("主动端连接释放请求后，向被动端应答，主动端进入TIME_WAIT状态，该状态会持续2MSL时间，若期间被动端没有重发请求，主动端进入CLOSED状态。被动端收到确认应答后，进入CLOSED状态")])]),t._v(" "),_("h2",{attrs:{id:"ack回复和超时重发"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ack回复和超时重发"}},[t._v("#")]),t._v(" ACK回复和超时重发")]),t._v(" "),_("p",[_("a",{attrs:{href:"https://coolshell.cn/articles/11564.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("TCP 的那些事儿（上） | 酷 壳 - CoolShell"),_("OutboundLink")],1)]),t._v(" "),_("p",[_("img",{attrs:{src:"https://esqbs.github.io/image_store/blog/202306162228735.jpg",alt:""}})]),t._v(" "),_("ol",[_("li",[_("p",[t._v("ACK只会确认最后一个连续的包，比如，发送端发送1，2，3，4，5共五份数据，接受端收到了1，2，4，接收端回ACK 3。当一直收不到ACK，发送端就会重传。")])]),t._v(" "),_("li",[_("p",[t._v("重传机制有两种，一种是超时重传（timeout可能会很长，TCP会动态计算），一种是快速重传（连续收到三个相同的ACK就会重传）。 由于不知道接收端收到了哪些数据，重传有两种选择，一种是仅重传timeout的包，一种是重传timeout后的所有数据。")])]),t._v(" "),_("li",[_("p",[t._v("SACK汇报收到的数据碎版， 这样发送端就知道哪些数据被接收端收到了。")])]),t._v(" "),_("li",[_("p",[t._v("如果接收端收到了数据，但发送端没有收到ACK，发送端重传后，可能会发生数据重复接收。SACK可用于判断哪些数据被重复接收了。")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("如果SACK的第一个段的范围被ACK所覆盖，那么就是D-SACK")])]),t._v(" "),_("li",[_("p",[t._v("如果SACK的第一个段的范围被SACK的第二个段覆盖，那么就是D-SACK")])])])]),t._v(" "),_("li",[_("p",[t._v("timeout动态计算")])])]),t._v(" "),_("h2",{attrs:{id:"拥塞控制"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#拥塞控制"}},[t._v("#")]),t._v(" 拥塞控制")])])}),[],!1,null,null,null);_.default=a.exports}}]);