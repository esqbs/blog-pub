(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{360:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"bash手册"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bash手册"}},[s._v("#")]),s._v(" bash手册")]),s._v(" "),a("p",[s._v("man命令可以访问Linux系统的手册页")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("man")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("man")]),s._v("\n")])])]),a("p",[s._v("某个命令查看帮助")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("man")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--help")]),s._v("\n")])])]),a("h2",{attrs:{id:"文件和目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件和目录"}},[s._v("#")]),s._v(" 文件和目录")]),s._v(" "),a("h3",{attrs:{id:"cd目录切换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cd目录切换"}},[s._v("#")]),s._v(" cd目录切换")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/bin "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#绝对路径")]),s._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" ./ "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#相对路径")]),s._v("\n")])])]),a("h3",{attrs:{id:"pwd显示当前目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pwd显示当前目录"}},[s._v("#")]),s._v(" pwd显示当前目录")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n")])])]),a("h3",{attrs:{id:"ls当前目录下的文件和目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ls当前目录下的文件和目录"}},[s._v("#")]),s._v(" ls当前目录下的文件和目录")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-F")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#区分文件和目录")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示隐藏文件 在Linux中，隐藏文件通常是文件名以点号（.）开始的文件")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-F")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#递归，列出当前目录所包含的子目录中的文件")]),s._v("\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#显示长列表")]),s._v("\n\ndrwxr-xr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" yuan yuan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":15 公共的\ndrwxr-xr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" yuan yuan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":15 模板\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" yuan yuan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(":27 软件\ndrwxr-xr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" yuan yuan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":15 视频\n")])])]),a("ul",[a("li",[s._v("文件类型，比如目录（d）、文件（-）、链接文件（l）、字符设备（c）或块设备（b）")]),s._v(" "),a("li",[s._v("文件的权限")]),s._v(" "),a("li",[s._v("文件的硬链接数")]),s._v(" "),a("li",[s._v("文件属主")]),s._v(" "),a("li",[s._v("文件属组")]),s._v(" "),a("li",[s._v("文件大小（以字节为单位）")]),s._v(" "),a("li",[s._v("文件的上次修改时间")]),s._v(" "),a("li",[s._v("文件名或目录名")])]),s._v(" "),a("blockquote",[a("p",[s._v("如果想查看单个文件的长列表，那么只需在ls -l命令之后跟上该文件名即可。但如果想查看目录的相关信息，而非目录所包含的内容，则除了-l选项之外，还得添加-d选项，即ls -ld Directory-Name。")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#正则匹配")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" my_scr?pt  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#问号（?）代表任意单个字符")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" my_scr*  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#星号（*）代表零个或多个字符")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" my_scr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("pt "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#惊叹号（!）将不需要的内容排除在外")]),s._v("\n")])])]),a("h3",{attrs:{id:"touch创建文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#touch创建文件"}},[s._v("#")]),s._v(" touch创建文件")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" my_script\n")])])]),a("h3",{attrs:{id:"cp复制文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cp复制文件"}},[s._v("#")]),s._v(" cp复制文件")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" my_script my_scrjpt "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#复制文件，并命名，-i覆盖前询问")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" my_script my_dir/ "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将文件复制到现有目录")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" my_dir/ new_dir/ "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建new_dir目录，并递归地复制整个目录的内容")]),s._v("\n")])])]),a("h3",{attrs:{id:"ln链接文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ln链接文件"}},[s._v("#")]),s._v(" ln链接文件")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" my_script slink_script "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#符号链接（也称为软链接）是一个文件，该文件指向存放在虚拟目录结构中某个地方的另一个文件，符号连接文件和指向文件inode编号不同")]),s._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\n-rw-rw-r-- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" yuan yuan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":19 my_script\nlrwxrwxrwx "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" yuan yuan "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":25 slink_script -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" my_script\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" *script\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14942848")]),s._v(" my_script  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14942849")]),s._v(" slink_script\n\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" my_script hlink_script "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#硬链接创建的是一个独立的虚拟文件，其中包含了原始文件的信息以及位置，以硬链接相连的文件共享同一个inode编号。这是因为两者其实就是同一个文件。另外，彼此的文件大小也一模一样。")]),s._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" *script\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14942848")]),s._v(" hlink_script  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14942848")]),s._v(" my_script  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14942849")]),s._v(" slink_script\n")])])]),a("h3",{attrs:{id:"mv移动文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mv移动文件"}},[s._v("#")]),s._v(" mv移动文件")]),s._v(" "),a("p",[s._v("移动文件只影响文件名，但inode编号和时间戳保持不变")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" my_script my_scrbpt "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重命名")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" my_script ./dir/\n")])])]),a("h3",{attrs:{id:"rm删除文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rm删除文件"}},[s._v("#")]),s._v(" rm删除文件")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" my_script\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-rf")]),s._v(" my_script "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#强制删除my_script及子目录和文件")]),s._v("\n")])])]),a("h3",{attrs:{id:"mkdir创建文件夹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mkdir创建文件夹"}},[s._v("#")]),s._v(" mkdir创建文件夹")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" new_dir\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" new_dir/sub_dir "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-p选项可以根据需要创建缺失的父目录")]),s._v("\n")])])]),a("h3",{attrs:{id:"rmdir删除空文件夹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rmdir删除空文件夹"}},[s._v("#")]),s._v(" rmdir删除空文件夹")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rmdir")]),s._v(" new_dir\n")])])]),a("h3",{attrs:{id:"file查看文件类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#file查看文件类型"}},[s._v("#")]),s._v(" file查看文件类型")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" my_script\n")])])]),a("h3",{attrs:{id:"cat查看文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cat查看文件"}},[s._v("#")]),s._v(" cat查看文件")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" my_script "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-n输出行号")]),s._v("\n")])])]),a("h3",{attrs:{id:"more命令-分页工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#more命令-分页工具"}},[s._v("#")]),s._v(" more命令 分页工具")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" my_script\n")])])]),a("h3",{attrs:{id:"less命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#less命令"}},[s._v("#")]),s._v(" less命令")]),s._v(" "),a("p",[s._v("less命令能够识别上下箭头键以及上下翻页键")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("less")]),s._v(" my_script\n")])])]),a("h3",{attrs:{id:"tail命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tail命令"}},[s._v("#")]),s._v(" tail命令")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-2")]),s._v(" my_script\n")])])]),a("h3",{attrs:{id:"head命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#head命令"}},[s._v("#")]),s._v(" head命令")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-2")]),s._v(" my_script\n")])])]),a("h2",{attrs:{id:"进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进程"}},[s._v("#")]),s._v(" 进程")]),s._v(" "),a("h3",{attrs:{id:"ps进程查看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ps进程查看"}},[s._v("#")]),s._v(" ps进程查看")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ef")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看系统中运行的所有进程")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("          PID    "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C STIME TTY          TIME CMD\nyuan       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72648")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72647")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":30 pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-bash")]),s._v("\nyuan       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("73487")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72648")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":36 pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v("\n")])])]),a("ul",[a("li",[s._v("UID：启动该进程的用户")]),s._v(" "),a("li",[s._v("PID：进程ID")]),s._v(" "),a("li",[s._v("PPID：父进程的PID（如果该进程是由另一个进程启动的）")]),s._v(" "),a("li",[s._v("C：进程生命期中的CPU利用率")]),s._v(" "),a("li",[s._v("STIME：进程启动时的系统时间")]),s._v(" "),a("li",[s._v("TTY：进程是从哪个终端设备启动的")]),s._v(" "),a("li",[s._v("TIME：运行进程的累计CPU时间")]),s._v(" "),a("li",[s._v("CMD：启动的程序名称")])]),s._v(" "),a("h3",{attrs:{id:"top实时监测进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#top实时监测进程"}},[s._v("#")]),s._v(" top实时监测进程")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("top")]),s._v(" - "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":39:54 up "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v(" min,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" users,  load average: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.02")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.13")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.21")]),s._v("\n任务: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("426")]),s._v(" total,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" running, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("425")]),s._v(" sleeping,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" stopped,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" zombie\n%Cpu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" us,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.4")]),s._v(" sy,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" ni, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99.6")]),s._v(" id,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" wa,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" hi,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" si,  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" st\nMiB Mem "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12835.0")]),s._v(" total,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7962.1")]),s._v(" free,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2222.3")]),s._v(" used,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2650.6")]),s._v(" buff/cache\nMiB Swap:   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048.0")]),s._v(" total,   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048.0")]),s._v(" free,      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" used.  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10291.5")]),s._v(" avail Mem \n \n  进程号 "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v("      PR  NI    VIRT    RES    SHR    %CPU  %MEM     TIME+ COMMAND                                                                                                                                                                       \n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("167332")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11548")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7964")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":05.64 systemd                                                                                                                                                                       \n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" S   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.01 kthreadd                                                                                                                                                                      \n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-20")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" I   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 rcu_gp                                                                                                                                                                        \n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-20")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" I   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 rcu_par_gp                                                                                                                                                                    \n      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" root       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-20")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" I   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(":00.00 slub_flushwq                   \n")])])]),a("h3",{attrs:{id:"kill结束进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kill结束进程"}},[s._v("#")]),s._v(" kill结束进程")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v("\n")])])]),a("table",[a("thead",[a("tr",[a("th",[s._v("信号")]),s._v(" "),a("th",[s._v("名称")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("1")]),s._v(" "),a("td",[s._v("HUP")]),s._v(" "),a("td",[s._v("挂起")])]),s._v(" "),a("tr",[a("td",[s._v("2")]),s._v(" "),a("td",[s._v("INT")]),s._v(" "),a("td",[s._v("中断")])]),s._v(" "),a("tr",[a("td",[s._v("3")]),s._v(" "),a("td",[s._v("QUIT")]),s._v(" "),a("td",[s._v("结束运行")])]),s._v(" "),a("tr",[a("td",[s._v("9")]),s._v(" "),a("td",[s._v("KILL")]),s._v(" "),a("td",[s._v("无条件终止")])]),s._v(" "),a("tr",[a("td",[s._v("11")]),s._v(" "),a("td",[s._v("SEGV")]),s._v(" "),a("td",[s._v("段错误")])]),s._v(" "),a("tr",[a("td",[s._v("15")]),s._v(" "),a("td",[s._v("TERM")]),s._v(" "),a("td",[s._v("尽可能终止")])]),s._v(" "),a("tr",[a("td",[s._v("17")]),s._v(" "),a("td",[s._v("STOP")]),s._v(" "),a("td",[s._v("无条件停止运行，但不终止")])]),s._v(" "),a("tr",[a("td",[s._v("18")]),s._v(" "),a("td",[s._v("TSTP")]),s._v(" "),a("td",[s._v("停止或暂停，但继续在后台运行")])]),s._v(" "),a("tr",[a("td",[s._v("19")]),s._v(" "),a("td",[s._v("CONT")]),s._v(" "),a("td",[s._v("在STOP或TSTP之后恢复执行")])])])]),s._v(" "),a("blockquote",[a("p",[s._v("以root身份使用pkill命令时要格外小心。命令中的通配符很容易意外地将系统的重要进程终止。这可能会导致文件系统损坏")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("pkill")]),s._v(" http* "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#pkill命令可以使用程序名代替PID来终止进程")]),s._v("\n")])])]),a("h2",{attrs:{id:"磁盘"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#磁盘"}},[s._v("#")]),s._v(" 磁盘")]),s._v(" "),a("h3",{attrs:{id:"mount"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mount"}},[s._v("#")]),s._v(" mount")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" ext4 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出当前系统已挂载的设备列表")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" vfat /dev/sdb1 /media/disk "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#挂载")]),s._v("\n")])])]),a("h3",{attrs:{id:"umount"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#umount"}},[s._v("#")]),s._v(" umount")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("umount")]),s._v(" /dev/sdb1 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#umount命令支持通过设备文件或者挂载点来指定要卸载的设备。")]),s._v("\n")])])]),a("h3",{attrs:{id:"df显示已挂载的文件系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#df显示已挂载的文件系统"}},[s._v("#")]),s._v(" df显示已挂载的文件系统")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v("\n")])])]),a("h3",{attrs:{id:"du"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#du"}},[s._v("#")]),s._v(" du")]),s._v(" "),a("p",[s._v("在默认情况下，du命令会显示当前目录下所有的文件、目录和子目录的磁盘使用情况，并以磁盘块为单位来表明每个文件或目录占用了多大存储空间")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v("\n")])])]),a("h2",{attrs:{id:"处理数据文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#处理数据文件"}},[s._v("#")]),s._v(" 处理数据文件")]),s._v(" "),a("h3",{attrs:{id:"sort"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sort"}},[s._v("#")]),s._v(" sort")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" my_file "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#排序")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" my_file "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#按数值排序")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-M")]),s._v(" my_file "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#识别三字符的月份名并正确排序 Jan Feb Mar ...")]),s._v("\n\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('":"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-k")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" /etc/passwd "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#先使用-t选项指定字段分隔符，然后使用-k选项指定排序字段")]),s._v("\n\nroot:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\nadm:x:3:4:adm:/var/adm:/sbin/nologin\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-nr")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-r选项对数值按照降序排列")]),s._v("\n1008k   mrtg-2.9.29.tar.gz\n972k    bldg1\n888k    fbs2.pdf\n760k    Printtest\n680k    rsync-2.6.6.tar.gz\n")])])]),a("h3",{attrs:{id:"grep数据搜索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grep数据搜索"}},[s._v("#")]),s._v(" grep数据搜索")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v(" my_file "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#包含111")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v(" my_file "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#不包含111")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v(" my_file "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出行号")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("111")]),s._v(" my_file "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#匹配行数")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" my_file "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#正则匹配")]),s._v("\n")])])]),a("blockquote",[a("p",[s._v("egrep命令是grep的一个衍生，支持POSIX扩展正则表达式，其中包含更多可用于指定匹配模式的字符（参见第20章）。fgrep则是另外一个版本，支持将匹配模式指定为以换行符分隔的一系列固定长度的字符串")])]),s._v(" "),a("h3",{attrs:{id:"数据压缩"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据压缩"}},[s._v("#")]),s._v(" 数据压缩")]),s._v(" "),a("h3",{attrs:{id:"gzip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gzip"}},[s._v("#")]),s._v(" gzip")]),s._v(" "),a("ul",[a("li",[s._v("gzip：用于压缩文件")]),s._v(" "),a("li",[s._v("zcat：用于查看压缩过的文本文件的内容")]),s._v(" "),a("li",[s._v("gunzip：用于解压文件")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("gzip")]),s._v(" my_*\n$ gunzip my_*\n")])])]),a("h3",{attrs:{id:"归档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#归档"}},[s._v("#")]),s._v(" 归档")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-cvf")]),s._v(" my.tar  my_sc* "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建归档")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-xvf")]),s._v(" my.tar "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#从归档提取")]),s._v("\n")])])]),a("blockquote",[a("p",[s._v("在下载开源软件时经常会看到文件名以.tgz结尾，这是经gzip压缩过的tar文件，可以用命令tar -zxvf filename.tgz来提取其中的内容")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("选项")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("-C")]),s._v(" "),a("td",[s._v("切换到指定目录")])]),s._v(" "),a("tr",[a("td",[s._v("-f")]),s._v(" "),a("td",[s._v("将结果输出到文件")])]),s._v(" "),a("tr",[a("td",[s._v("-j")]),s._v(" "),a("td",[s._v("将输出传给bzip2命令进行压缩")])]),s._v(" "),a("tr",[a("td",[s._v("-J")]),s._v(" "),a("td",[s._v("将输出结果传给xz命令进行雅压缩")])]),s._v(" "),a("tr",[a("td",[s._v("-p")]),s._v(" "),a("td",[s._v("保留文件的所有权限")])]),s._v(" "),a("tr",[a("td",[s._v("-v")]),s._v(" "),a("td",[s._v("在处理文件是显示文件名")])]),s._v(" "),a("tr",[a("td",[s._v("-z")]),s._v(" "),a("td",[s._v("将输出传递给gzip命令进行压缩")])]),s._v(" "),a("tr",[a("td",[s._v("-Z")]),s._v(" "),a("td",[s._v("将输出传递给compress命令进行压缩")])])])]),s._v(" "),a("h2",{attrs:{id:"shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell"}},[s._v("#")]),s._v(" shell")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/shells  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#/etc/shells文件中列出了各种已安装的shell")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# /etc/shells: valid login shells")]),s._v("\n/bin/sh\n/bin/bash\n/usr/bin/bash\n/bin/rbash\n/usr/bin/rbash\n/usr/bin/sh\n/bin/dash\n/usr/bin/dash\n/usr/bin/screen\n\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lF")]),s._v(" /usr/bin/bash "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#长列表中文件名尾部的星号（*）表明bash文件（bash shell）是一个可执行程序")]),s._v("\n-rwxr-xr-x. "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1219248")]),s._v(" Nov  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":30 /usr/bin/bash*\n\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 有了方便的$0变量，就能知道当前使用的shell了。输入命令dash，启动Dash shell，通过echo $0显示新的shell")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bash之前有一个连字符（-）。这表明该shell是用户的登录shell")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-bash")]),s._v("\n")])])]),a("h3",{attrs:{id:"shell父子关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell父子关系"}},[s._v("#")]),s._v(" shell父子关系")]),s._v(" "),a("p",[s._v("当你在CLI提示符处输入bash命令（或是其他shell程序名）时，会创建新的shell程序。这是一个子shell。子shell也拥有CLI提示符，同样会等待命令输入")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("          PID    "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C STIME TTY          TIME CMD\nyuan       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72648")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72647")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":30 pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-bash")]),s._v("\nyuan       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("93282")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72648")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":48 pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v("\n")])])]),a("h3",{attrs:{id:"进程列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进程列表"}},[s._v("#")]),s._v(" 进程列表")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" test* "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" my*\n/home/christine\ntest_file  test_one  test_two\n/etc\n/home/christine\nmy_file  my_scrapt  my_script  my_scrypt\n$\n")])])]),a("h3",{attrs:{id:"子shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#子shell"}},[s._v("#")]),s._v(" 子shell")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pwd "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" test* "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" my*"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n/home/christine\ntest_file  test_one  test_two\n/etc\n/home/christine\nmy_file  my_scrapt  my_script  my_scrypt\n$\n")])])]),a("blockquote",[a("p",[s._v("在交互式CLI shell会话中，子shell同样存在问题，它并非真正的多进程处理，原因在于终端与子shell的I/O绑定在了一起。")])]),s._v(" "),a("h3",{attrs:{id:"后台模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后台模式"}},[s._v("#")]),s._v(" 后台模式")]),s._v(" "),a("p",[s._v("在后台模式中运行命令可以在处理命令的同时让出CLI，以供他用")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2542")]),s._v("\n$\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("UID")]),s._v("          PID    "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PPID")]),s._v("  C STIME TTY          TIME CMD\nyuan       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72648")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72647")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(":30 pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-bash")]),s._v("\nyuan       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94110")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72648")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":54 pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v("\nyuan       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94445")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("72648")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":56 pts/0    00:00:00 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v("\n$\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("jobs")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#jobs命令能够显示当前运行在后台模式中属于你的所有进程（作业）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("+ "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("94110")]),s._v(" 运行中               "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])])]),a("h3",{attrs:{id:"协程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#协程"}},[s._v("#")]),s._v(" 协程")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ coproc My_Job "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2706")]),s._v("\n$\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("jobs")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("+ Running                   coproc My_Job "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n$\n")])])]),a("h3",{attrs:{id:"外部命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#外部命令"}},[s._v("#")]),s._v(" 外部命令")]),s._v(" "),a("p",[s._v("外部命令（有时也称为文件系统命令）是存在于bash shell之外的程序")]),s._v(" "),a("p",[s._v("每当执行外部命令时，就会创建一个子进程。这种操作称为衍生")]),s._v(" "),a("p",[s._v("无论是衍生出子进程还是创建了子shell，都仍然可以通过信号与其互通，这一点无论是在使用命令行还是在编写脚本时都极其有用。进程间以发送信号的方式彼此通信。")]),s._v(" "),a("h3",{attrs:{id:"内建命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内建命令"}},[s._v("#")]),s._v(" 内建命令")]),s._v(" "),a("p",[s._v("与外部命令不同，内建命令无须使用子进程来执行")]),s._v(" "),a("h2",{attrs:{id:"环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[s._v("#")]),s._v(" 环境变量")]),s._v(" "),a("p",[s._v("环境变量允许在内存中存储数据，以便shell中运行的程序或脚本能够轻松访问到这些数据")]),s._v(" "),a("h3",{attrs:{id:"全局环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局环境变量"}},[s._v("#")]),s._v(" 全局环境变量")]),s._v(" "),a("p",[s._v("全局环境变量对于shell会话和所有生成的子shell都是可见的")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看全局变量")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("printenv")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看某个全局变量")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看某个全局变量")]),s._v("\n")])])]),a("h3",{attrs:{id:"局部环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#局部环境变量"}},[s._v("#")]),s._v(" 局部环境变量")]),s._v(" "),a("p",[s._v("局部环境变量只能在定义它的进程中可见")]),s._v(" "),a("p",[s._v("set命令可以显示特定进程的所有环境变量，既包括局部变量、全局变量，也包括用户自定义变量")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v("\n")])])]),a("blockquote",[a("p",[s._v("env命令、printenv命令和set命令之间的差异很细微。set命令既会显示全局和局部环境变量、用户自定义变量以及局部shell函数，还会按照字母顺序对结果进行排序。与set命令不同，env命令和printenv命令既不会对变量进行排序，也不会输出局部环境变量、局部用户自定义变量以及局部shell函数。在这种情况下，env命令和printenv命令的输出是重复的")])]),s._v(" "),a("h3",{attrs:{id:"用户自定义变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户自定义变量"}},[s._v("#")]),s._v(" 用户自定义变量")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("my_var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1231231"')]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$my_var")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1231231")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建子shell")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$my_var")]),s._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#退出子shell")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$my_var")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1231231")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" my_var\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建子shell")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$my_var")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1231231")]),s._v("\n")])])]),a("ul",[a("li",[s._v("局部用户自定义环境变量仅对该shell进程可见")]),s._v(" "),a("li",[s._v("删除环境变量")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("unset")]),s._v(" my_var\n")])])]),a("blockquote",[a("p",[s._v("如果要用到（doing anything with）变量，就使用$；如果要操作（doing anything to）变量，则不使用$。这条规则的一个例外是使用printenv显示某个变量的值")])]),s._v(" "),a("blockquote",[a("p",[s._v("如果是在子进程中删除了一个全局环境变量，那么该操作仅对子进程有效。该全局环境变量在父进程中依然可用")])]),s._v(" "),a("h3",{attrs:{id:"设置path环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置path环境变量"}},[s._v("#")]),s._v(" 设置PATH环境变量")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /home/christine/Scripts/\nmyprog\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n/home/christine/.local/bin:/home/christine/bin:/usr/local/bin:/usr/\nbin:/usr/local/sbin:/usr/sbin\n$\n$ "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v(":/home/christine/Scripts    \n$\n$ myprog\nThe factorial of "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" is "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v("\n$\n")])])]),a("h3",{attrs:{id:"系统环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统环境变量"}},[s._v("#")]),s._v(" 系统环境变量")]),s._v(" "),a("h4",{attrs:{id:"登录shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#登录shell"}},[s._v("#")]),s._v(" 登录shell")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("/etc/profile文件是系统中默认的bash shell的主启动文件。系统中的每个用户登录时都会执行这个启动文件")])]),s._v(" "),a("li",[a("p",[s._v("$HOME目录下的启动文件，用户可以对其编辑并添加自己的环境变量，其中的环境变量会在每次启动bash shell会话时生效，shell会按照下列顺序执行第一个被找到的文件，余下的则被忽略")]),s._v(" "),a("ul",[a("li",[s._v("$HOME/.bash_profile")]),s._v(" "),a("li",[s._v("$HOME/.bash_login")]),s._v(" "),a("li",[s._v("$HOME/.profile")])])])]),s._v(" "),a("h4",{attrs:{id:"交互式shell进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#交互式shell进程"}},[s._v("#")]),s._v(" 交互式shell进程")]),s._v(" "),a("p",[s._v("作为交互式shell启动的bash并不处理/etc/profile文件，只检查用户$HOME目录中的.bashrc文件")]),s._v(" "),a("h4",{attrs:{id:"作为运行脚本的非交互式shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#作为运行脚本的非交互式shell"}},[s._v("#")]),s._v(" 作为运行脚本的非交互式shell")]),s._v(" "),a("h3",{attrs:{id:"环境变量持久化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量持久化"}},[s._v("#")]),s._v(" 环境变量持久化")]),s._v(" "),a("p",[s._v("对全局环境变量（Linux系统的所有用户都要用到的变量）来说，可能更倾向于将新的或修改过的变量设置放在/etc/profile文件中")]),s._v(" "),a("p",[s._v("最好在/etc/profile.d目录中创建一个以.sh结尾的文件。把所有新的或修改过的全局环境变量设置都放在这个文件中")]),s._v(" "),a("p",[s._v("保存个人用户永久性bash shell变量的最佳地点是$HOME/.bashrc文件")]),s._v(" "),a("h3",{attrs:{id:"数组变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数组变量"}},[s._v("#")]),s._v(" 数组变量")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("my_var")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("one two three"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$my_var")]),s._v("\none\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${my_var"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("}")]),s._v("\ntwo\n")])])]),a("h2",{attrs:{id:"linux文件权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux文件权限"}},[s._v("#")]),s._v(" Linux文件权限")]),s._v(" "),a("h3",{attrs:{id:"linux安全性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux安全性"}},[s._v("#")]),s._v(" Linux安全性")]),s._v(" "),a("p",[s._v("Linux系统会为各种各样的功能创建不同的用户账户，而这些账户并非真正的人类用户。我们称其为系统账户，它们是系统中运行的各种服务进程访问资源使用的特殊账户")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/passwd\nroot:x:0:0:root:/root:/bin/bash\nbin:x:1:1:bin:/bin:/sbin/nologin\ndaemon:x:2:2:daemon:/sbin:/sbin/nologint\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nrich:x:500:500:Rich Blum:/home/rich:/bin/bash\nmama:x:501:501:Mama:/home/mama:/bin/bash\n$\n")])])]),a("ul",[a("li",[s._v("登录用户名")]),s._v(" "),a("li",[s._v("用户密码（x不是真正的密码，密码在/etc/shadow中，只有root用户可以访问）")]),s._v(" "),a("li",[s._v("用户账户的UID（数字形式）")]),s._v(" "),a("li",[s._v("用户账户的组ID（数字形式）")]),s._v(" "),a("li",[s._v("用户账户的文本描述（称为备注字段）")]),s._v(" "),a("li",[s._v("用户$HOME目录的位置")]),s._v(" "),a("li",[s._v("用户的默认shell")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/shadow\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nyuan:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$y")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$j9T")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$FycewZ63yRNgqEJ0Uwo0V0")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$4nj")]),s._v(".vGqTD6MFqK/.ob0Mx1MTKxyiOEHKUhpJ2yALufD:19702:0:99999:7:::\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])])]),a("ul",[a("li",[s._v("登录名，对应于/etc/passwd文件中的登录名")]),s._v(" "),a("li",[s._v("加密后的密码")]),s._v(" "),a("li",[s._v("自上次修改密码后已经过去的天数（从1970年1月1日开始计算）")]),s._v(" "),a("li",[s._v("多少天后才能更改密码")]),s._v(" "),a("li",[s._v("多少天后必须更改密码")]),s._v(" "),a("li",[s._v("密码过期前提前多少天提醒用户更改密码")]),s._v(" "),a("li",[s._v("密码过期后多少天禁用用户账户")]),s._v(" "),a("li",[s._v("用户账户被禁用的日期（以从1970年1月1日到当时的天数表示）")]),s._v(" "),a("li",[s._v("预留给以后使用的字段。")])]),s._v(" "),a("h3",{attrs:{id:"用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户"}},[s._v("#")]),s._v(" 用户")]),s._v(" "),a("h4",{attrs:{id:"添加用户的默认值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加用户的默认值"}},[s._v("#")]),s._v(" 添加用户的默认值")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看命令行中创建新用户账户时的默认值")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GROUP")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOME")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("INACTIVE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("-1\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("EXPIRE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("SHELL")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/bin/bash\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SKEL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/skel\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CREATE_MAIL_SPOOL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("no\n$\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-al")]),s._v(" /etc/skel/\n总计 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("\ndrwxr-xr-x   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root root  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\ndrwxr-xr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("152")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12288")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":47 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("220")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v(" .bash_logout\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3771")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v(" .bashrc\n-rw-r--r--   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("807")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v(" .profile\n$\n")])])]),a("ul",[a("li",[s._v("新用户会被添加到GID为100的公共组")]),s._v(" "),a("li",[s._v("新用户的主目录会位于/home/loginname")]),s._v(" "),a("li",[s._v("新用户账户密码在过期后不会被禁用")]),s._v(" "),a("li",[s._v("新用户账户不设置过期日期")]),s._v(" "),a("li",[s._v("新用户账户将bash shell作为默认shell")]),s._v(" "),a("li",[s._v("系统会将/etc/skel目录的内容复制到用户的$HOME目录")]),s._v(" "),a("li",[s._v("系统不会为该用户账户在mail目录下创建一个用于接收邮件的文件")])]),s._v(" "),a("blockquote",[a("p",[s._v("useradd命令的默认值使用/etc/default/useradd文件设置。另外，进一步的安全设置在/etc/login.defs文件中定义。你可以调整这些文件，改变Linux系统默认的安全行为。")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /bin/tsch\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GROUP")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOME")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/home\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("INACTIVE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("-1\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("EXPIRE")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("SHELL")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/bin/tsch\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SKEL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/etc/skel\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CREATE_MAIL_SPOOL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("no\n$\n")])])]),a("h4",{attrs:{id:"添加用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加用户"}},[s._v("#")]),s._v(" 添加用户")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-al")]),s._v(" /home/test\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\ndrwxr-xr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2010")]),s._v("-09-23 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":01 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\ndrwxr-xr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2010")]),s._v("-09-23 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":01 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n-rw-r--r-- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("220")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2010")]),s._v("-04-18 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":51 .bash_logout\n-rw-r--r-- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3103")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2010")]),s._v("-04-18 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":51 .bashrc\n-rw-r--r-- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("675")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2010")]),s._v("-04-18 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(":51 .profile\n$\n")])])]),a("ul",[a("li",[a("p",[s._v("useradd命令默认并不创建$HOME目录，但是-m命令行选项会使其创建$HOME目录。可以在/etc/login.defs文件中更改该行为")])]),s._v(" "),a("li",[a("p",[s._v("useradd命令创建了新的$HOME目录，并将/etc/skel目录中的文件复制了过来")])])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("选项")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("-c")]),s._v(" "),a("td",[s._v("给用户添加备注")])]),s._v(" "),a("tr",[a("td",[s._v("-d")]),s._v(" "),a("td",[s._v("为主目录指定一个名字（默认登陆名）")])]),s._v(" "),a("tr",[a("td",[s._v("-e")]),s._v(" "),a("td",[s._v("用YYY-MM-DD格式指定账户过期日期")])]),s._v(" "),a("tr",[a("td",[s._v("-f")]),s._v(" "),a("td",[s._v("指定账户过期多少天后禁用该用户；0表示立即禁用，-1表示不使用这个功能")])]),s._v(" "),a("tr",[a("td",[s._v("-g")]),s._v(" "),a("td",[s._v("指定用户登陆组的GID或组名")])]),s._v(" "),a("tr",[a("td",[s._v("-G")]),s._v(" "),a("td",[s._v("指定除用户组之外用户所属的一个或多个附加组")])]),s._v(" "),a("tr",[a("td",[s._v("-k")]),s._v(" "),a("td",[s._v("必须和-m一起使用，将/etc/skel目录的内容复制到用户的$HOME目录")])]),s._v(" "),a("tr",[a("td",[s._v("-m")]),s._v(" "),a("td",[s._v("创建用户的$HOME目录")])]),s._v(" "),a("tr",[a("td",[s._v("-M")]),s._v(" "),a("td",[s._v("不创建用户的$HOME目录")])]),s._v(" "),a("tr",[a("td",[s._v("-r")]),s._v(" "),a("td",[s._v("创建系统账户")])]),s._v(" "),a("tr",[a("td",[s._v("-p")]),s._v(" "),a("td",[s._v("加密后的新账户密码")])]),s._v(" "),a("tr",[a("td",[s._v("-s")]),s._v(" "),a("td",[s._v("指定默认的登录shell")])]),s._v(" "),a("tr",[a("td",[s._v("-u")]),s._v(" "),a("td",[s._v("为账户指定一个唯一的UID")])])])]),s._v(" "),a("h4",{attrs:{id:"删除用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除用户"}},[s._v("#")]),s._v(" 删除用户")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("userdel")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-r选项表示userdel会删除用户的$HOME目录以及邮件目录")]),s._v("\n")])])]),a("h4",{attrs:{id:"修改用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改用户"}},[s._v("#")]),s._v(" 修改用户")]),s._v(" "),a("p",[s._v("usermod命令提供了修改/etc/passwd文件中大部分字段的相关选项")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("选项")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("-c")]),s._v(" "),a("td",[s._v("用于修改备注字段")])]),s._v(" "),a("tr",[a("td",[s._v("-e")]),s._v(" "),a("td",[s._v("用于修改过期日期")])]),s._v(" "),a("tr",[a("td",[s._v("-g")]),s._v(" "),a("td",[s._v("用于修改默认的登录组")])]),s._v(" "),a("tr",[a("td",[s._v("-G")]),s._v(" "),a("td",[s._v("新的附加组列表 GROUP")])]),s._v(" "),a("tr",[a("td",[s._v("-l")]),s._v(" "),a("td",[s._v("修改用户账户的登录名")])]),s._v(" "),a("tr",[a("td",[s._v("-L")]),s._v(" "),a("td",[s._v("锁定账户，禁止用户登录")])]),s._v(" "),a("tr",[a("td",[s._v("-p")]),s._v(" "),a("td",[s._v("修改账户密码")])]),s._v(" "),a("tr",[a("td",[s._v("-U")]),s._v(" "),a("td",[s._v("解除锁定，恢复用户登录")])]),s._v(" "),a("tr",[a("td",[s._v("-L")]),s._v(" "),a("td",[s._v("锁定账户，使用户无法登录，无须删除账户和用户数据。要恢复账户，只需使用-U选项即可")])])])]),s._v(" "),a("p",[a("strong",[s._v("修改密码")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\nChanging password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" user test.\nNew UNIX password:\nRetype new UNIX password:\npasswd: all authentication tokens updated successfully.\n$\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" chpasswd "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#批量修改密码 -c 启用不同的加密方法 -e 加密输入")]),s._v("\ntest:12349876 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Ctrl+D保存")]),s._v("\n$ \n")])])]),a("p",[a("strong",[s._v("修改sh")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" chsh "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /bin/csh "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\nChanging shell "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" test.\nShell changed.\n$\n")])])]),a("p",[a("strong",[s._v("修改用户备注信息")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" chfn "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n正在改变 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" 的用户信息\n请输入新值，或直接敲回车键以使用默认值\n\t全名 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": test11\n\t房间号码 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\n\t工作电话 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23123123123")]),s._v("\n\t家庭电话 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12312312")]),s._v("\n\t其它 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" /etc/passwd\ntest:x:1001:1002:test11,12,23123123123,12312312,123:/home/test:/bin/dash\n")])])]),a("p",[a("strong",[s._v("修改账户有效期")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" chage "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看当前密码过期信息")]),s._v("\n最近一次密码修改时间\t\t\t\t\t： "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("\n密码过期时间\t\t\t\t\t： 从不\n密码失效时间\t\t\t\t\t： 从不\n帐户过期时间\t\t\t\t\t\t： 从不\n两次改变密码之间相距的最小天数\t\t：0\n两次改变密码之间相距的最大天数\t\t：99999\n在密码过期之前警告的天数\t：7\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" chage "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-M")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改密码有效期")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" chage "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n最近一次密码修改时间\t\t\t\t\t： "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("\n密码过期时间\t\t\t\t\t： "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月 04, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2024")]),s._v("\n密码失效时间\t\t\t\t\t： 从不\n帐户过期时间\t\t\t\t\t\t： 从不\n两次改变密码之间相距的最小天数\t\t：0\n两次改变密码之间相距的最大天数\t\t：10\n在密码过期之前警告的天数\t：7\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" chage "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-W")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#密码过期前警告用户")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" chage "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n最近一次密码修改时间\t\t\t\t\t： "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("\n密码过期时间\t\t\t\t\t： "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月 04, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2024")]),s._v("\n密码失效时间\t\t\t\t\t： 从不\n帐户过期时间\t\t\t\t\t\t： 从不\n两次改变密码之间相距的最小天数\t\t：0\n两次改变密码之间相距的最大天数\t\t：10\n在密码过期之前警告的天数\t：2\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" chage "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-E")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2024")]),s._v("-01-15  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#锁定账户")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" chage "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n最近一次密码修改时间\t\t\t\t\t： "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2023")]),s._v("\n密码过期时间\t\t\t\t\t： "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月 04, "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2024")]),s._v("\n密码失效时间\t\t\t\t\t： 从不\n帐户过期时间\t\t\t\t\t\t： "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2024")]),s._v("\n两次改变密码之间相距的最小天数\t\t：0\n两次改变密码之间相距的最大天数\t\t：10\n在密码过期之前警告的天数\t：2\n\n")])])]),a("h3",{attrs:{id:"用户组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户组"}},[s._v("#")]),s._v(" 用户组")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/group\nroot:x:0:\ndaemon:x:1:\nbin:x:2:\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])])]),a("ul",[a("li",[s._v("组名")]),s._v(" "),a("li",[s._v("组密码")]),s._v(" "),a("li",[s._v("GID")]),s._v(" "),a("li",[s._v("属于该组的用户列表")])]),s._v(" "),a("blockquote",[a("p",[s._v("当一个用户在/etc/passwd文件中指定某个组作为主要组时，该用户不会作为该组成员再出现在/etc/group文件中")])]),s._v(" "),a("h4",{attrs:{id:"创建新组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建新组"}},[s._v("#")]),s._v(" 创建新组")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" test2\n")])])]),a("blockquote",[a("p",[s._v("在创建新组时，默认不为其分配任何用户。可以用usermod命令来解决，-g选项，则指定的组名会替换掉在/etc/passwd文件中为该用户分配的主要组。-G选项则会将该组加入该用户的属组列表，不会影响主要组。")])]),s._v(" "),a("h4",{attrs:{id:"修改组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改组"}},[s._v("#")]),s._v(" 修改组")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-n")]),s._v(" test3 test2 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#-n，改组名；-g，改GID")]),s._v("\n")])])]),a("p",[s._v("由于所有的安全权限均基于GID，因此可以随意改变组名，不会影响文件的安全性")]),s._v(" "),a("h3",{attrs:{id:"文件权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件权限"}},[s._v("#")]),s._v(" 文件权限")]),s._v(" "),a("p",[a("strong",[s._v("文件权限符号")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\ndrwxr-x---  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":01 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])])]),a("ul",[a("li",[s._v("rwx：属主权限")]),s._v(" "),a("li",[s._v("r-x：属组权限")]),s._v(" "),a("li",[s._v("---：系统其他用户权限")])]),s._v(" "),a("blockquote",[a("p",[s._v("r: 4, w: 2, x: 1")])]),s._v(" "),a("p",[a("strong",[s._v("默认文件权限")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" yuan yuan  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":16 my_dir "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#777-002=775")]),s._v("\n-rw-rw-r-- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" yuan yuan    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":02 my_file "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#666-002=664")]),s._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("umask")]),s._v("\n0002 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#八进制的")]),s._v("\n")])])]),a("ul",[a("li",[s._v("第一位文件共享相关，表示的是SUID、SGID和粘滞位的八进制值，参见文件共享")]),s._v(" "),a("li",[s._v("umask值只是个掩码，会屏蔽掉不想授予该安全级别的权限")]),s._v(" "),a("li",[s._v("要把umask值从对象的全权限值（full permission）中减掉。对文件而言，全权限值是666（所有用户都有读取和写入的权限）；对目录而言，全权限值则是777（所有用户都有读取、写入和执行权限）")])]),s._v(" "),a("h4",{attrs:{id:"更改安全设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更改安全设置"}},[s._v("#")]),s._v(" 更改安全设置")]),s._v(" "),a("h5",{attrs:{id:"修改权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改权限"}},[s._v("#")]),s._v(" 修改权限")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("760")]),s._v(" newfile\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" newfile\n-rwxrw----    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rich     rich            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":16 newfile\n$\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" o+r newfile "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#chmod [ugoa...][[+-=][rwxXstugo...] file")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v(" newfile\n-rwxrw-r--    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rich     rich            "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":16 newfile\n$\n")])])]),a("ol",[a("li",[a("p",[s._v("第一组字符定义了权限作用的对象")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("u代表用户")])]),s._v(" "),a("li",[a("p",[s._v("g代表组")])]),s._v(" "),a("li",[a("p",[s._v("o代表其他用户")])]),s._v(" "),a("li",[a("p",[s._v("a代表上述所有")])])])]),s._v(" "),a("li",[a("p",[s._v("在现有权限基础上增加权限（+）、移除权限（-），还是设置权限（=）")])]),s._v(" "),a("li",[a("p",[s._v("第三个符号代表要设置的权限，除rwx外，还有")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("X：仅当对象是目录或者已有执行权限时才赋予执行权限")])]),s._v(" "),a("li",[a("p",[s._v("s：在执行时设置SUID或SGID")])]),s._v(" "),a("li",[a("p",[s._v("t：设置粘滞位（sticky bit）")])]),s._v(" "),a("li",[a("p",[s._v("u：设置属主权限")])]),s._v(" "),a("li",[a("p",[s._v("g：设置属组权限")])]),s._v(" "),a("li",[a("p",[s._v("o：设置其他用户权限")])])])])]),s._v(" "),a("h5",{attrs:{id:"改变所属关系"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#改变所属关系"}},[s._v("#")]),s._v(" 改变所属关系")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" test.test my_file\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\ndrwxrwxr-x "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" yuan yuan  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":16 my_dir\n-rw-rw-rw- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("月 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":02 my_file\n")])])]),a("ul",[a("li",[s._v("-R选项与通配符相配合可以递归地修改子目录和文件的所属关系")]),s._v(" "),a("li",[s._v("-h选项可以修改文件的所有符号链接文件的所属关系")]),s._v(" "),a("li",[s._v("只有root用户能修改文件的属主。任何用户都可以修改文件的属组，但前提是该用户必须是原属组和新属组的成员")])]),s._v(" "),a("h3",{attrs:{id:"文件共享"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件共享"}},[s._v("#")]),s._v(" 文件共享")]),s._v(" "),a("p",[s._v("Linux为每个文件和目录存储了3个额外的信息位")]),s._v(" "),a("ul",[a("li",[s._v("SUID（set user ID）：当用户执行该文件时，程序会以文件属主的权限运行")]),s._v(" "),a("li",[s._v("SGID（set group ID）：对文件而言，程序会以文件属组的权限运行；对目录而言，该目录中创建的新文件会以目录的属组作为默认属组")]),s._v(" "),a("li",[s._v("粘滞位（sticky bit）：应用于目录时，只有文件属主可以删除或重命名该目录中的文件")])]),s._v(" "),a("p",[s._v("可以通过chmod命令设置SGID，将其添加到标准3位八进制值之前（组成4位八进制值），或者在符号模式下用符号s。")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("八进制")]),s._v(" "),a("th",[s._v("描述")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("0")]),s._v(" "),a("td",[s._v("清除所有位")])]),s._v(" "),a("tr",[a("td",[s._v("1")]),s._v(" "),a("td",[s._v("设置粘滞位")])]),s._v(" "),a("tr",[a("td",[s._v("2")]),s._v(" "),a("td",[s._v("设置SGID位")])]),s._v(" "),a("tr",[a("td",[s._v("3")]),s._v(" "),a("td",[s._v("设置SGID和粘滞位")])]),s._v(" "),a("tr",[a("td",[s._v("4")]),s._v(" "),a("td",[s._v("设置SUID位")])]),s._v(" "),a("tr",[a("td",[s._v("5")]),s._v(" "),a("td",[s._v("设置SUID和粘滞位")])]),s._v(" "),a("tr",[a("td",[s._v("6")]),s._v(" "),a("td",[s._v("设置SUID和SGID位")])]),s._v(" "),a("tr",[a("td",[s._v("7")]),s._v(" "),a("td",[s._v("设置所有位")])])])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" testdir\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\ndrwxrwxr-x    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" rich     rich         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":12 testdir/\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chgrp")]),s._v(" shared testdir\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" g+s testdir\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\ndrwxrwsr-x    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" rich     shared       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":12 testdir/\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("umask")]),s._v(" 002\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" testdir\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" testfile\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n-rw-rw-r--    "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rich     shared          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Sep "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":13 testfile\n$\n")])])]),a("p",[s._v("首先，使用mkdir命令创建希望共享的目录")]),s._v(" "),a("p",[s._v("然后，通过chgrp命令修改目录的默认属组，使其包含所有需要共享文件的用户")]),s._v(" "),a("p",[s._v("最后，设置目录的SGID位，保证目录中的新建文件都以shared作为默认属组")]),s._v(" "),a("h3",{attrs:{id:"访问控制列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问控制列表"}},[s._v("#")]),s._v(" 访问控制列表")]),s._v(" "),a("p",[s._v("访问控制列表（access control list，ACL）允许指定包含多个用户或组的列表以及为其分配的权限。和基本安全方法一样，ACL权限使用相同的读取、写入和执行权限位，但现在可以分配给多个用户和组")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n-rw-r----- "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rich rich "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Apr "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":33 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n$ getfacl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# file: test")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# owner: rich")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# group: rich")]),s._v("\nuser::rw-\ngroup::r--\nother::---\n$\n")])])]),a("p",[s._v("setfacl命令允许使用-m选项修改分配给文件或目录的权限，或使用-x选项删除特定权限")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ setfacl "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" g:sales:rw "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-l")]),s._v("\ntotal "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n-rw-rw----+ "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" rich rich "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" Apr "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":33 "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#+表示应用了ACL")]),s._v("\n$\n\n$ getfacl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# file: test")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# owner: rich")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# group: rich")]),s._v("\nuser::rw-\ngroup::r--\ngroup:sales:rw-\nmask::rw-\nother::---\n$\n")])])]),a("p",[s._v("要想删除权限，可以使用-x选项")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ setfacl "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" g:sales "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n$ getfacl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# file: test")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# owner: rich")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# group: rich")]),s._v("\nuser::rw-\ngroup::r--\nmask::r--\nother::---\n$\n")])])]),a("p",[s._v("要想设置目录的默认ACL，可以在正常的规则定义前加上d:")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" setfacl "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" d:g:sales:rw "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])])]),a("p",[s._v("删除所有ACL")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" setfacl "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-b")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])])]),a("h2",{attrs:{id:"linux文件系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux文件系统"}},[s._v("#")]),s._v(" Linux文件系统")]),s._v(" "),a("p",[s._v("Linux采用了一种标准格式来为硬盘分配设备名称")]),s._v(" "),a("ul",[a("li",[s._v("SATA驱动器和SCSI驱动器：设备命名格式为/dev/sdx，其中字母x具体是什么要根据驱动器的检测顺序决定（第一个检测到的驱动器是a，第二个是b，以此类推）")]),s._v(" "),a("li",[s._v("SSD NVMe驱动器：设备命名格式为/dev/nvmeNn#，其中数字N具体是什么要根据驱动器的检测顺序决定（从0起始）。#是分配给该驱动器的名称空间编号（从1起始）")]),s._v(" "),a("li",[s._v("IDE驱动器：设备命名格式为/dev/hdx，其中字母x具体是什么要根据驱动器的检测顺序决定（第一个检测到的驱动器是a，第二个是b，以此类推）")])]),s._v(" "),a("h3",{attrs:{id:"创建分区"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建分区"}},[s._v("#")]),s._v(" 创建分区")]),s._v(" "),a("p",[s._v("分区工具 fdisk， gdisk ，GNU parted")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" /dev/sda "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#选择命令操作")]),s._v("\n\nWelcome to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fdisk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("util-linux "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.32")]),s._v(".1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\nChanges will remain "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" memory only, "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("until")]),s._v(" you decide to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" them.\nBe careful before using the "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" command.\n　\n　\nCommand "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("m "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":m\n")])])]),a("h3",{attrs:{id:"格式化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#格式化"}},[s._v("#")]),s._v(" 格式化")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("工具")]),s._v(" "),a("th",[s._v("用途")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("mkefs")]),s._v(" "),a("td",[s._v("创建ext文件系统")])]),s._v(" "),a("tr",[a("td",[s._v("mke2fs")]),s._v(" "),a("td",[s._v("创建ext2文件系统")])]),s._v(" "),a("tr",[a("td",[s._v("mkfs.ext3")]),s._v(" "),a("td",[s._v("创建ext3文件系统")])]),s._v(" "),a("tr",[a("td",[s._v("mkfs.ext4")]),s._v(" "),a("td",[s._v("创建ext4文件系统")])]),s._v(" "),a("tr",[a("td",[s._v("mkreiserfs")]),s._v(" "),a("td",[s._v("创建ReiserFS文件系统")])]),s._v(" "),a("tr",[a("td",[s._v("jfs_mkfs")]),s._v(" "),a("td",[s._v("创建JFS文件系统")])]),s._v(" "),a("tr",[a("td",[s._v("mkfs.xfs")]),s._v(" "),a("td",[s._v("创建XFS文件系统")])]),s._v(" "),a("tr",[a("td",[s._v("mkfs.zfs")]),s._v(" "),a("td",[s._v("创建ZFS文件系统")])]),s._v(" "),a("tr",[a("td",[s._v("mkfs.btrfs")]),s._v(" "),a("td",[s._v("创建Btrfs文件系统")])])])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" mkfs.ext4 /dev/sdb1\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sudo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" christine:\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mke2fs")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.44")]),s._v(".6 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("-Mar-2019"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nCreating filesystem with "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("524032")]),s._v(" 4k blocks and "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("131072")]),s._v(" inodes\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nCreating journal "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8192")]),s._v(" blocks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\nWriting superblocks and filesystem accounting information: "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n$\n")])])]),a("h3",{attrs:{id:"文件系统的检查与修复"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件系统的检查与修复"}},[s._v("#")]),s._v(" 文件系统的检查与修复")]),s._v(" "),a("p",[s._v("fsck命令可以检查和修复大部分Linux文件系统类型")]),s._v(" "),a("p",[s._v("只能对未挂载的文件系统执行fsck命令。对大多数文件系统来说，只需先卸载文件系统，检查完成之后再重新挂载即可")]),s._v(" "),a("p",[s._v("用Linux Live媒介启动系统，对根文件系统执行fsck命令")]),s._v(" "),a("h3",{attrs:{id:"逻辑卷"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#逻辑卷"}},[s._v("#")]),s._v(" 逻辑卷")]),s._v(" "),a("p",[a("strong",[s._v("1.物理卷物理卷（physical volume，PV）")])]),s._v(" "),a("p",[s._v("通过LVM的pvcreate命令创建。该命令指定了一个未使用的磁盘分区（或整个驱动器）由LVM使用。在这个过程中，LVM结构、卷标和元数据都会被添加到该分区。")]),s._v(" "),a("p",[a("strong",[s._v("2.卷组卷组（volume group，VG）")])]),s._v(" "),a("p",[s._v("通过LVM的vgcreate命令创建。该命令会将PV加入存储池，后者随后用于构建各种逻辑卷。[插图]可以存在多个卷组。当你使用vgcreate将一个或多个PV加入VG时，也会同时添加卷组的元数据。被指定为PV的分区只能属于单个VG。但是，被指定为PV的其他分区可以属于其他VG。")]),s._v(" "),a("p",[a("strong",[s._v("3.逻辑卷逻辑卷（logical volume，LV）")])]),s._v(" "),a("p",[s._v("通过LVM的lvcreate命令创建。这是逻辑卷创建过程的最终产物。LV由VG的存储空间块[插图]组成。你可以使用文件系统格式化LV，然后将其挂载，像普通的磁盘分区那样使用。尽管可以有多个VG，但LV只能从一个指定的VG中创建。[插图]不过，多个LV可以共享单个VG。你可以使用相应的LVM命令调整（增加或减少）LV的容量。该特性赋予了数据存储管理极大的灵活性。")]),s._v(" "),a("p",[a("strong",[s._v("(1) 创建物理卷。(2) 创建卷组。(3) 创建逻辑卷。(4) 格式化逻辑卷。(5) 挂载逻辑卷")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ lsblk\nNAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nsdb           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":16   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    2G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" disk\n⌙sdb1         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":17   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    2G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part\nsdc           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":32   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    1G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" disk\n⌙sdc1         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":33   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 1023M  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part\nsdd           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":48   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    1G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" disk\n⌙sdd1         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":49   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 1023M  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part\nsde           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":64   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    1G  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" disk\n⌙sde1         "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(":65   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" 1023M  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" part\nsr0           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":0   "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 1024M  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" rom\n$\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" pvcreate /dev/sdc1 /dev/sdd1 /dev/sde1\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sudo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" christine:\n  Physical volume "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/dev/sdc1"')]),s._v(" successfully created.\n  Physical volume "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/dev/sdd1"')]),s._v(" successfully created.\n  Physical volume "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/dev/sde1"')]),s._v(" successfully created.\n$\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" vgdisplay\n  --- Volume group ---\n  VG Name               cl\n  System ID\n  Format                lvm2\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n$\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" vgcreate vg00 /dev/sdc1 /dev/sdd1\n  Volume group "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vg00"')]),s._v(" successfully created\n$\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" lvcreate "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-L")]),s._v(" 1g "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v(" vg00\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sudo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" christine:\n  Archiving volume group "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vg00"')]),s._v(" metadata "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("seqno "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(".\n  Creating logical volume lvol0\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  Logical volume "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lvol0"')]),s._v(" created.\n$\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" lvdisplay /dev/vg00/lvol0\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sudo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" christine:\n  --- Logical volume ---\n  LV Path                 /dev/vg00/lvol0\n  LV Name                 lvol0\n  VG Name                 vg00\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  LV Size                 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.00")]),s._v(" GiB\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n$\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" mkfs.ext4 /dev/vg00/lvol0\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sudo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" password "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" christine:\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nWriting inode tables: "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\nCreating journal "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8192")]),s._v(" blocks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\nWriting superblocks and filesystem accounting information: "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" my_LV\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" ext4 /dev/vg00/lvol0 my_LV\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" my_LV\nlost+found\n$\n")])])]),a("p",[a("strong",[s._v("扩大或收缩VG和LV&")])]),s._v(" "),a("p",[s._v("Vgextend：将PV加入VG")]),s._v(" "),a("p",[s._v("Vgreduce：从VG删除PV")]),s._v(" "),a("p",[s._v("lvextend：扩大LV容量")]),s._v(" "),a("p",[s._v("lvreduce：收缩LV容量")])])}),[],!1,null,null,null);a.default=e.exports}}]);